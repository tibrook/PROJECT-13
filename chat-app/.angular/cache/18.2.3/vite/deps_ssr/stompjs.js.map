{
  "version": 3,
  "sources": ["../../../../../node_modules/stompjs/lib/stomp.js", "../../../../../node_modules/websocket/node_modules/ms/index.js", "../../../../../node_modules/websocket/node_modules/debug/src/debug.js", "../../../../../node_modules/websocket/node_modules/debug/src/browser.js", "../../../../../node_modules/websocket/node_modules/debug/src/node.js", "../../../../../node_modules/websocket/node_modules/debug/src/index.js", "../../../../../node_modules/websocket/lib/utils.js", "../../../../../node_modules/node-gyp-build/node-gyp-build.js", "../../../../../node_modules/node-gyp-build/index.js", "../../../../../node_modules/bufferutil/fallback.js", "../../../../../node_modules/bufferutil/index.js", "../../../../../node_modules/websocket/lib/WebSocketFrame.js", "../../../../../node_modules/websocket/vendor/FastBufferList.js", "../../../../../node_modules/utf-8-validate/fallback.js", "../../../../../node_modules/utf-8-validate/index.js", "../../../../../node_modules/websocket/lib/WebSocketConnection.js", "../../../../../node_modules/websocket/lib/WebSocketRequest.js", "../../../../../node_modules/websocket/lib/WebSocketServer.js", "../../../../../node_modules/websocket/lib/WebSocketClient.js", "../../../../../node_modules/websocket/lib/WebSocketRouterRequest.js", "../../../../../node_modules/websocket/lib/WebSocketRouter.js", "../../../../../node_modules/is-typedarray/index.js", "../../../../../node_modules/typedarray-to-buffer/index.js", "../../../../../node_modules/yaeti/lib/EventTarget.js", "../../../../../node_modules/yaeti/lib/Event.js", "../../../../../node_modules/yaeti/index.js", "../../../../../node_modules/websocket/lib/W3CWebSocket.js", "../../../../../node_modules/websocket/lib/Deprecation.js", "../../../../../node_modules/websocket/package.json", "../../../../../node_modules/websocket/lib/version.js", "../../../../../node_modules/websocket/lib/websocket.js", "../../../../../node_modules/websocket/index.js", "../../../../../node_modules/stompjs/lib/stomp-node.js", "../../../../../node_modules/stompjs/index.js"],
  "sourcesContent": ["// Generated by CoffeeScript 1.7.1\n\n/*\n   Stomp Over WebSocket http://www.jmesnil.net/stomp-websocket/doc/ | Apache License V2.0\n\n   Copyright (C) 2010-2013 [Jeff Mesnil](http://jmesnil.net/)\n   Copyright (C) 2012 [FuseSource, Inc.](http://fusesource.com)\n */\n\n(function () {\n  var Byte,\n    Client,\n    Frame,\n    Stomp,\n    __hasProp = {}.hasOwnProperty,\n    __slice = [].slice;\n  Byte = {\n    LF: '\\x0A',\n    NULL: '\\x00'\n  };\n  Frame = function () {\n    var unmarshallSingle;\n    function Frame(command, headers, body) {\n      this.command = command;\n      this.headers = headers != null ? headers : {};\n      this.body = body != null ? body : '';\n    }\n    Frame.prototype.toString = function () {\n      var lines, name, skipContentLength, value, _ref;\n      lines = [this.command];\n      skipContentLength = this.headers['content-length'] === false ? true : false;\n      if (skipContentLength) {\n        delete this.headers['content-length'];\n      }\n      _ref = this.headers;\n      for (name in _ref) {\n        if (!__hasProp.call(_ref, name)) continue;\n        value = _ref[name];\n        lines.push(\"\" + name + \":\" + value);\n      }\n      if (this.body && !skipContentLength) {\n        lines.push(\"content-length:\" + Frame.sizeOfUTF8(this.body));\n      }\n      lines.push(Byte.LF + this.body);\n      return lines.join(Byte.LF);\n    };\n    Frame.sizeOfUTF8 = function (s) {\n      if (s) {\n        return encodeURI(s).match(/%..|./g).length;\n      } else {\n        return 0;\n      }\n    };\n    unmarshallSingle = function (data) {\n      var body, chr, command, divider, headerLines, headers, i, idx, len, line, start, trim, _i, _j, _len, _ref, _ref1;\n      divider = data.search(RegExp(\"\" + Byte.LF + Byte.LF));\n      headerLines = data.substring(0, divider).split(Byte.LF);\n      command = headerLines.shift();\n      headers = {};\n      trim = function (str) {\n        return str.replace(/^\\s+|\\s+$/g, '');\n      };\n      _ref = headerLines.reverse();\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        line = _ref[_i];\n        idx = line.indexOf(':');\n        headers[trim(line.substring(0, idx))] = trim(line.substring(idx + 1));\n      }\n      body = '';\n      start = divider + 2;\n      if (headers['content-length']) {\n        len = parseInt(headers['content-length']);\n        body = ('' + data).substring(start, start + len);\n      } else {\n        chr = null;\n        for (i = _j = start, _ref1 = data.length; start <= _ref1 ? _j < _ref1 : _j > _ref1; i = start <= _ref1 ? ++_j : --_j) {\n          chr = data.charAt(i);\n          if (chr === Byte.NULL) {\n            break;\n          }\n          body += chr;\n        }\n      }\n      return new Frame(command, headers, body);\n    };\n    Frame.unmarshall = function (datas) {\n      var data;\n      return function () {\n        var _i, _len, _ref, _results;\n        _ref = datas.split(RegExp(\"\" + Byte.NULL + Byte.LF + \"*\"));\n        _results = [];\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          data = _ref[_i];\n          if ((data != null ? data.length : void 0) > 0) {\n            _results.push(unmarshallSingle(data));\n          }\n        }\n        return _results;\n      }();\n    };\n    Frame.marshall = function (command, headers, body) {\n      var frame;\n      frame = new Frame(command, headers, body);\n      return frame.toString() + Byte.NULL;\n    };\n    return Frame;\n  }();\n  Client = function () {\n    var now;\n    function Client(ws) {\n      this.ws = ws;\n      this.ws.binaryType = \"arraybuffer\";\n      this.counter = 0;\n      this.connected = false;\n      this.heartbeat = {\n        outgoing: 10000,\n        incoming: 10000\n      };\n      this.maxWebSocketFrameSize = 16 * 1024;\n      this.subscriptions = {};\n    }\n    Client.prototype.debug = function (message) {\n      var _ref;\n      return typeof window !== \"undefined\" && window !== null ? (_ref = window.console) != null ? _ref.log(message) : void 0 : void 0;\n    };\n    now = function () {\n      if (Date.now) {\n        return Date.now();\n      } else {\n        return new Date().valueOf;\n      }\n    };\n    Client.prototype._transmit = function (command, headers, body) {\n      var out;\n      out = Frame.marshall(command, headers, body);\n      if (typeof this.debug === \"function\") {\n        this.debug(\">>> \" + out);\n      }\n      while (true) {\n        if (out.length > this.maxWebSocketFrameSize) {\n          this.ws.send(out.substring(0, this.maxWebSocketFrameSize));\n          out = out.substring(this.maxWebSocketFrameSize);\n          if (typeof this.debug === \"function\") {\n            this.debug(\"remaining = \" + out.length);\n          }\n        } else {\n          return this.ws.send(out);\n        }\n      }\n    };\n    Client.prototype._setupHeartbeat = function (headers) {\n      var serverIncoming, serverOutgoing, ttl, v, _ref, _ref1;\n      if ((_ref = headers.version) !== Stomp.VERSIONS.V1_1 && _ref !== Stomp.VERSIONS.V1_2) {\n        return;\n      }\n      _ref1 = function () {\n        var _i, _len, _ref1, _results;\n        _ref1 = headers['heart-beat'].split(\",\");\n        _results = [];\n        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n          v = _ref1[_i];\n          _results.push(parseInt(v));\n        }\n        return _results;\n      }(), serverOutgoing = _ref1[0], serverIncoming = _ref1[1];\n      if (!(this.heartbeat.outgoing === 0 || serverIncoming === 0)) {\n        ttl = Math.max(this.heartbeat.outgoing, serverIncoming);\n        if (typeof this.debug === \"function\") {\n          this.debug(\"send PING every \" + ttl + \"ms\");\n        }\n        this.pinger = Stomp.setInterval(ttl, function (_this) {\n          return function () {\n            _this.ws.send(Byte.LF);\n            return typeof _this.debug === \"function\" ? _this.debug(\">>> PING\") : void 0;\n          };\n        }(this));\n      }\n      if (!(this.heartbeat.incoming === 0 || serverOutgoing === 0)) {\n        ttl = Math.max(this.heartbeat.incoming, serverOutgoing);\n        if (typeof this.debug === \"function\") {\n          this.debug(\"check PONG every \" + ttl + \"ms\");\n        }\n        return this.ponger = Stomp.setInterval(ttl, function (_this) {\n          return function () {\n            var delta;\n            delta = now() - _this.serverActivity;\n            if (delta > ttl * 2) {\n              if (typeof _this.debug === \"function\") {\n                _this.debug(\"did not receive server activity for the last \" + delta + \"ms\");\n              }\n              return _this.ws.close();\n            }\n          };\n        }(this));\n      }\n    };\n    Client.prototype._parseConnect = function () {\n      var args, connectCallback, errorCallback, headers;\n      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n      headers = {};\n      switch (args.length) {\n        case 2:\n          headers = args[0], connectCallback = args[1];\n          break;\n        case 3:\n          if (args[1] instanceof Function) {\n            headers = args[0], connectCallback = args[1], errorCallback = args[2];\n          } else {\n            headers.login = args[0], headers.passcode = args[1], connectCallback = args[2];\n          }\n          break;\n        case 4:\n          headers.login = args[0], headers.passcode = args[1], connectCallback = args[2], errorCallback = args[3];\n          break;\n        default:\n          headers.login = args[0], headers.passcode = args[1], connectCallback = args[2], errorCallback = args[3], headers.host = args[4];\n      }\n      return [headers, connectCallback, errorCallback];\n    };\n    Client.prototype.connect = function () {\n      var args, errorCallback, headers, out;\n      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n      out = this._parseConnect.apply(this, args);\n      headers = out[0], this.connectCallback = out[1], errorCallback = out[2];\n      if (typeof this.debug === \"function\") {\n        this.debug(\"Opening Web Socket...\");\n      }\n      this.ws.onmessage = function (_this) {\n        return function (evt) {\n          var arr, c, client, data, frame, messageID, onreceive, subscription, _i, _len, _ref, _results;\n          data = typeof ArrayBuffer !== 'undefined' && evt.data instanceof ArrayBuffer ? (arr = new Uint8Array(evt.data), typeof _this.debug === \"function\" ? _this.debug(\"--- got data length: \" + arr.length) : void 0, function () {\n            var _i, _len, _results;\n            _results = [];\n            for (_i = 0, _len = arr.length; _i < _len; _i++) {\n              c = arr[_i];\n              _results.push(String.fromCharCode(c));\n            }\n            return _results;\n          }().join('')) : evt.data;\n          _this.serverActivity = now();\n          if (data === Byte.LF) {\n            if (typeof _this.debug === \"function\") {\n              _this.debug(\"<<< PONG\");\n            }\n            return;\n          }\n          if (typeof _this.debug === \"function\") {\n            _this.debug(\"<<< \" + data);\n          }\n          _ref = Frame.unmarshall(data);\n          _results = [];\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            frame = _ref[_i];\n            switch (frame.command) {\n              case \"CONNECTED\":\n                if (typeof _this.debug === \"function\") {\n                  _this.debug(\"connected to server \" + frame.headers.server);\n                }\n                _this.connected = true;\n                _this._setupHeartbeat(frame.headers);\n                _results.push(typeof _this.connectCallback === \"function\" ? _this.connectCallback(frame) : void 0);\n                break;\n              case \"MESSAGE\":\n                subscription = frame.headers.subscription;\n                onreceive = _this.subscriptions[subscription] || _this.onreceive;\n                if (onreceive) {\n                  client = _this;\n                  messageID = frame.headers[\"message-id\"];\n                  frame.ack = function (headers) {\n                    if (headers == null) {\n                      headers = {};\n                    }\n                    return client.ack(messageID, subscription, headers);\n                  };\n                  frame.nack = function (headers) {\n                    if (headers == null) {\n                      headers = {};\n                    }\n                    return client.nack(messageID, subscription, headers);\n                  };\n                  _results.push(onreceive(frame));\n                } else {\n                  _results.push(typeof _this.debug === \"function\" ? _this.debug(\"Unhandled received MESSAGE: \" + frame) : void 0);\n                }\n                break;\n              case \"RECEIPT\":\n                _results.push(typeof _this.onreceipt === \"function\" ? _this.onreceipt(frame) : void 0);\n                break;\n              case \"ERROR\":\n                _results.push(typeof errorCallback === \"function\" ? errorCallback(frame) : void 0);\n                break;\n              default:\n                _results.push(typeof _this.debug === \"function\" ? _this.debug(\"Unhandled frame: \" + frame) : void 0);\n            }\n          }\n          return _results;\n        };\n      }(this);\n      this.ws.onclose = function (_this) {\n        return function () {\n          var msg;\n          msg = \"Whoops! Lost connection to \" + _this.ws.url;\n          if (typeof _this.debug === \"function\") {\n            _this.debug(msg);\n          }\n          _this._cleanUp();\n          return typeof errorCallback === \"function\" ? errorCallback(msg) : void 0;\n        };\n      }(this);\n      return this.ws.onopen = function (_this) {\n        return function () {\n          if (typeof _this.debug === \"function\") {\n            _this.debug('Web Socket Opened...');\n          }\n          headers[\"accept-version\"] = Stomp.VERSIONS.supportedVersions();\n          headers[\"heart-beat\"] = [_this.heartbeat.outgoing, _this.heartbeat.incoming].join(',');\n          return _this._transmit(\"CONNECT\", headers);\n        };\n      }(this);\n    };\n    Client.prototype.disconnect = function (disconnectCallback, headers) {\n      if (headers == null) {\n        headers = {};\n      }\n      this._transmit(\"DISCONNECT\", headers);\n      this.ws.onclose = null;\n      this.ws.close();\n      this._cleanUp();\n      return typeof disconnectCallback === \"function\" ? disconnectCallback() : void 0;\n    };\n    Client.prototype._cleanUp = function () {\n      this.connected = false;\n      if (this.pinger) {\n        Stomp.clearInterval(this.pinger);\n      }\n      if (this.ponger) {\n        return Stomp.clearInterval(this.ponger);\n      }\n    };\n    Client.prototype.send = function (destination, headers, body) {\n      if (headers == null) {\n        headers = {};\n      }\n      if (body == null) {\n        body = '';\n      }\n      headers.destination = destination;\n      return this._transmit(\"SEND\", headers, body);\n    };\n    Client.prototype.subscribe = function (destination, callback, headers) {\n      var client;\n      if (headers == null) {\n        headers = {};\n      }\n      if (!headers.id) {\n        headers.id = \"sub-\" + this.counter++;\n      }\n      headers.destination = destination;\n      this.subscriptions[headers.id] = callback;\n      this._transmit(\"SUBSCRIBE\", headers);\n      client = this;\n      return {\n        id: headers.id,\n        unsubscribe: function () {\n          return client.unsubscribe(headers.id);\n        }\n      };\n    };\n    Client.prototype.unsubscribe = function (id) {\n      delete this.subscriptions[id];\n      return this._transmit(\"UNSUBSCRIBE\", {\n        id: id\n      });\n    };\n    Client.prototype.begin = function (transaction) {\n      var client, txid;\n      txid = transaction || \"tx-\" + this.counter++;\n      this._transmit(\"BEGIN\", {\n        transaction: txid\n      });\n      client = this;\n      return {\n        id: txid,\n        commit: function () {\n          return client.commit(txid);\n        },\n        abort: function () {\n          return client.abort(txid);\n        }\n      };\n    };\n    Client.prototype.commit = function (transaction) {\n      return this._transmit(\"COMMIT\", {\n        transaction: transaction\n      });\n    };\n    Client.prototype.abort = function (transaction) {\n      return this._transmit(\"ABORT\", {\n        transaction: transaction\n      });\n    };\n    Client.prototype.ack = function (messageID, subscription, headers) {\n      if (headers == null) {\n        headers = {};\n      }\n      headers[\"message-id\"] = messageID;\n      headers.subscription = subscription;\n      return this._transmit(\"ACK\", headers);\n    };\n    Client.prototype.nack = function (messageID, subscription, headers) {\n      if (headers == null) {\n        headers = {};\n      }\n      headers[\"message-id\"] = messageID;\n      headers.subscription = subscription;\n      return this._transmit(\"NACK\", headers);\n    };\n    return Client;\n  }();\n  Stomp = {\n    VERSIONS: {\n      V1_0: '1.0',\n      V1_1: '1.1',\n      V1_2: '1.2',\n      supportedVersions: function () {\n        return '1.1,1.0';\n      }\n    },\n    client: function (url, protocols) {\n      var klass, ws;\n      if (protocols == null) {\n        protocols = ['v10.stomp', 'v11.stomp'];\n      }\n      klass = Stomp.WebSocketClass || WebSocket;\n      ws = new klass(url, protocols);\n      return new Client(ws);\n    },\n    over: function (ws) {\n      return new Client(ws);\n    },\n    Frame: Frame\n  };\n  if (typeof exports !== \"undefined\" && exports !== null) {\n    exports.Stomp = Stomp;\n  }\n  if (typeof window !== \"undefined\" && window !== null) {\n    Stomp.setInterval = function (interval, f) {\n      return window.setInterval(f, interval);\n    };\n    Stomp.clearInterval = function (id) {\n      return window.clearInterval(id);\n    };\n    window.Stomp = Stomp;\n  } else if (!exports) {\n    self.Stomp = Stomp;\n  }\n}).call(this);", "/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(val));\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') || plural(ms, h, 'hour') || plural(ms, m, 'minute') || plural(ms, s, 'second') || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}", "/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0,\n    i;\n  for (i in namespace) {\n    hash = (hash << 5) - hash + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    args[0] = exports.coerce(args[0]);\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n  exports.names = [];\n  exports.skips = [];\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}", "/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome && 'undefined' != typeof chrome.storage ? chrome.storage.local : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = ['lightseagreen', 'forestgreen', 'goldenrod', 'dodgerblue', 'darkorchid', 'crimson'];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance ||\n  // is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) ||\n  // is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 ||\n  // double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n  args[0] = (useColors ? '%c' : '') + this.namespace + (useColors ? ' %c' : ' ') + args[0] + (useColors ? '%c ' : ' ') + '+' + exports.humanize(this.diff);\n  if (!useColors) return;\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit');\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console && console.log && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch (e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch (e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}", "/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key.substring(6).toLowerCase().replace(/_([a-z])/g, function (_, k) {\n    return k.toUpperCase();\n  });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;else if (/^(no|off|false|disabled)$/i.test(val)) val = false;else if (val === 'null') val = null;else val = Number(val);\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * The file descriptor to write the `debug()` calls to.\n * Set the `DEBUG_FD` env variable to override with another value. i.e.:\n *\n *   $ DEBUG_FD=3 node script.js 3>debug.log\n */\n\nvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\nif (1 !== fd && 2 !== fd) {\n  util.deprecate(function () {}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')();\n}\nvar stream = 1 === fd ? process.stdout : 2 === fd ? process.stderr : createWritableStdioStream(fd);\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts ? Boolean(exports.inspectOpts.colors) : tty.isatty(fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function (v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts).split('\\n').map(function (str) {\n    return str.trim();\n  }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function (v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n  if (useColors) {\n    var c = this.color;\n    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = new Date().toUTCString() + ' ' + name + ' ' + args[0];\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to `stream`.\n */\n\nfunction log() {\n  return stream.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Copied from `node/src/node.js`.\n *\n * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\n * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\n */\n\nfunction createWritableStdioStream(fd) {\n  var stream;\n  var tty_wrap = process.binding('tty_wrap');\n\n  // Note stream._type is used for test-module-load-list.js\n\n  switch (tty_wrap.guessHandleType(fd)) {\n    case 'TTY':\n      stream = new tty.WriteStream(fd);\n      stream._type = 'tty';\n\n      // Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n    case 'FILE':\n      var fs = require('fs');\n      stream = new fs.SyncWriteStream(fd, {\n        autoClose: false\n      });\n      stream._type = 'fs';\n      break;\n    case 'PIPE':\n    case 'TCP':\n      var net = require('net');\n      stream = new net.Socket({\n        fd: fd,\n        readable: false,\n        writable: true\n      });\n\n      // FIXME Should probably have an option in net.Socket to create a\n      // stream from an existing fd which is writable only. But for now\n      // we'll just add this hack and set the `readable` member to false.\n      // Test: ./node test/fixtures/echo.js < /etc/passwd\n      stream.readable = false;\n      stream.read = null;\n      stream._type = 'pipe';\n\n      // FIXME Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n    default:\n      // Probably an error on in uv_guess_handle()\n      throw new Error('Implement me. Unknown stream file type!');\n  }\n\n  // For supporting legacy API we put the FD here.\n  stream.fd = fd;\n  stream._isStdio = true;\n  return stream;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n  debug.inspectOpts = {};\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());", "/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process !== 'undefined' && process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}", "var noop = exports.noop = function () {};\nexports.extend = function extend(dest, source) {\n  for (var prop in source) {\n    dest[prop] = source[prop];\n  }\n};\nexports.eventEmitterListenerCount = require('events').EventEmitter.listenerCount || function (emitter, type) {\n  return emitter.listeners(type).length;\n};\nexports.bufferAllocUnsafe = Buffer.allocUnsafe ? Buffer.allocUnsafe : function oldBufferAllocUnsafe(size) {\n  return new Buffer(size);\n};\nexports.bufferFromString = Buffer.from ? Buffer.from : function oldBufferFromString(string, encoding) {\n  return new Buffer(string, encoding);\n};\nexports.BufferingLogger = function createBufferingLogger(identifier, uniqueID) {\n  var logFunction = require('debug')(identifier);\n  if (logFunction.enabled) {\n    var logger = new BufferingLogger(identifier, uniqueID, logFunction);\n    var debug = logger.log.bind(logger);\n    debug.printOutput = logger.printOutput.bind(logger);\n    debug.enabled = logFunction.enabled;\n    return debug;\n  }\n  logFunction.printOutput = noop;\n  return logFunction;\n};\nfunction BufferingLogger(identifier, uniqueID, logFunction) {\n  this.logFunction = logFunction;\n  this.identifier = identifier;\n  this.uniqueID = uniqueID;\n  this.buffer = [];\n}\nBufferingLogger.prototype.log = function () {\n  this.buffer.push([new Date(), Array.prototype.slice.call(arguments)]);\n  return this;\n};\nBufferingLogger.prototype.clear = function () {\n  this.buffer = [];\n  return this;\n};\nBufferingLogger.prototype.printOutput = function (logFunction) {\n  if (!logFunction) {\n    logFunction = this.logFunction;\n  }\n  var uniqueID = this.uniqueID;\n  this.buffer.forEach(function (entry) {\n    var date = entry[0].toLocaleString();\n    var args = entry[1].slice();\n    var formatString = args[0];\n    if (formatString !== void 0 && formatString !== null) {\n      formatString = '%s - %s - ' + formatString.toString();\n      args.splice(0, 1, formatString, date, uniqueID);\n      logFunction.apply(global, args);\n    }\n  });\n};", "var fs = require('fs');\nvar path = require('path');\nvar os = require('os');\n\n// Workaround to fix webpack's build warnings: 'the request of a dependency is an expression'\nvar runtimeRequire = typeof __webpack_require__ === 'function' ? __non_webpack_require__ : require; // eslint-disable-line\n\nvar vars = process.config && process.config.variables || {};\nvar prebuildsOnly = !!process.env.PREBUILDS_ONLY;\nvar abi = process.versions.modules; // TODO: support old node where this is undef\nvar runtime = isElectron() ? 'electron' : isNwjs() ? 'node-webkit' : 'node';\nvar arch = process.env.npm_config_arch || os.arch();\nvar platform = process.env.npm_config_platform || os.platform();\nvar libc = process.env.LIBC || (isAlpine(platform) ? 'musl' : 'glibc');\nvar armv = process.env.ARM_VERSION || (arch === 'arm64' ? '8' : vars.arm_version) || '';\nvar uv = (process.versions.uv || '').split('.')[0];\nmodule.exports = load;\nfunction load(dir) {\n  return runtimeRequire(load.resolve(dir));\n}\nload.resolve = load.path = function (dir) {\n  dir = path.resolve(dir || '.');\n  try {\n    var name = runtimeRequire(path.join(dir, 'package.json')).name.toUpperCase().replace(/-/g, '_');\n    if (process.env[name + '_PREBUILD']) dir = process.env[name + '_PREBUILD'];\n  } catch (err) {}\n  if (!prebuildsOnly) {\n    var release = getFirst(path.join(dir, 'build/Release'), matchBuild);\n    if (release) return release;\n    var debug = getFirst(path.join(dir, 'build/Debug'), matchBuild);\n    if (debug) return debug;\n  }\n  var prebuild = resolve(dir);\n  if (prebuild) return prebuild;\n  var nearby = resolve(path.dirname(process.execPath));\n  if (nearby) return nearby;\n  var target = ['platform=' + platform, 'arch=' + arch, 'runtime=' + runtime, 'abi=' + abi, 'uv=' + uv, armv ? 'armv=' + armv : '', 'libc=' + libc, 'node=' + process.versions.node, process.versions.electron ? 'electron=' + process.versions.electron : '', typeof __webpack_require__ === 'function' ? 'webpack=true' : '' // eslint-disable-line\n  ].filter(Boolean).join(' ');\n  throw new Error('No native build was found for ' + target + '\\n    loaded from: ' + dir + '\\n');\n  function resolve(dir) {\n    // Find matching \"prebuilds/<platform>-<arch>\" directory\n    var tuples = readdirSync(path.join(dir, 'prebuilds')).map(parseTuple);\n    var tuple = tuples.filter(matchTuple(platform, arch)).sort(compareTuples)[0];\n    if (!tuple) return;\n\n    // Find most specific flavor first\n    var prebuilds = path.join(dir, 'prebuilds', tuple.name);\n    var parsed = readdirSync(prebuilds).map(parseTags);\n    var candidates = parsed.filter(matchTags(runtime, abi));\n    var winner = candidates.sort(compareTags(runtime))[0];\n    if (winner) return path.join(prebuilds, winner.file);\n  }\n};\nfunction readdirSync(dir) {\n  try {\n    return fs.readdirSync(dir);\n  } catch (err) {\n    return [];\n  }\n}\nfunction getFirst(dir, filter) {\n  var files = readdirSync(dir).filter(filter);\n  return files[0] && path.join(dir, files[0]);\n}\nfunction matchBuild(name) {\n  return /\\.node$/.test(name);\n}\nfunction parseTuple(name) {\n  // Example: darwin-x64+arm64\n  var arr = name.split('-');\n  if (arr.length !== 2) return;\n  var platform = arr[0];\n  var architectures = arr[1].split('+');\n  if (!platform) return;\n  if (!architectures.length) return;\n  if (!architectures.every(Boolean)) return;\n  return {\n    name,\n    platform,\n    architectures\n  };\n}\nfunction matchTuple(platform, arch) {\n  return function (tuple) {\n    if (tuple == null) return false;\n    if (tuple.platform !== platform) return false;\n    return tuple.architectures.includes(arch);\n  };\n}\nfunction compareTuples(a, b) {\n  // Prefer single-arch prebuilds over multi-arch\n  return a.architectures.length - b.architectures.length;\n}\nfunction parseTags(file) {\n  var arr = file.split('.');\n  var extension = arr.pop();\n  var tags = {\n    file: file,\n    specificity: 0\n  };\n  if (extension !== 'node') return;\n  for (var i = 0; i < arr.length; i++) {\n    var tag = arr[i];\n    if (tag === 'node' || tag === 'electron' || tag === 'node-webkit') {\n      tags.runtime = tag;\n    } else if (tag === 'napi') {\n      tags.napi = true;\n    } else if (tag.slice(0, 3) === 'abi') {\n      tags.abi = tag.slice(3);\n    } else if (tag.slice(0, 2) === 'uv') {\n      tags.uv = tag.slice(2);\n    } else if (tag.slice(0, 4) === 'armv') {\n      tags.armv = tag.slice(4);\n    } else if (tag === 'glibc' || tag === 'musl') {\n      tags.libc = tag;\n    } else {\n      continue;\n    }\n    tags.specificity++;\n  }\n  return tags;\n}\nfunction matchTags(runtime, abi) {\n  return function (tags) {\n    if (tags == null) return false;\n    if (tags.runtime && tags.runtime !== runtime && !runtimeAgnostic(tags)) return false;\n    if (tags.abi && tags.abi !== abi && !tags.napi) return false;\n    if (tags.uv && tags.uv !== uv) return false;\n    if (tags.armv && tags.armv !== armv) return false;\n    if (tags.libc && tags.libc !== libc) return false;\n    return true;\n  };\n}\nfunction runtimeAgnostic(tags) {\n  return tags.runtime === 'node' && tags.napi;\n}\nfunction compareTags(runtime) {\n  // Precedence: non-agnostic runtime, abi over napi, then by specificity.\n  return function (a, b) {\n    if (a.runtime !== b.runtime) {\n      return a.runtime === runtime ? -1 : 1;\n    } else if (a.abi !== b.abi) {\n      return a.abi ? -1 : 1;\n    } else if (a.specificity !== b.specificity) {\n      return a.specificity > b.specificity ? -1 : 1;\n    } else {\n      return 0;\n    }\n  };\n}\nfunction isNwjs() {\n  return !!(process.versions && process.versions.nw);\n}\nfunction isElectron() {\n  if (process.versions && process.versions.electron) return true;\n  if (process.env.ELECTRON_RUN_AS_NODE) return true;\n  return typeof window !== 'undefined' && window.process && window.process.type === 'renderer';\n}\nfunction isAlpine(platform) {\n  return platform === 'linux' && fs.existsSync('/etc/alpine-release');\n}\n\n// Exposed for unit tests\n// TODO: move to lib\nload.parseTags = parseTags;\nload.matchTags = matchTags;\nload.compareTags = compareTags;\nload.parseTuple = parseTuple;\nload.matchTuple = matchTuple;\nload.compareTuples = compareTuples;", "const runtimeRequire = typeof __webpack_require__ === 'function' ? __non_webpack_require__ : require; // eslint-disable-line\nif (typeof runtimeRequire.addon === 'function') {\n  // if the platform supports native resolving prefer that\n  module.exports = runtimeRequire.addon.bind(runtimeRequire);\n} else {\n  // else use the runtime version here\n  module.exports = require('./node-gyp-build.js');\n}", "'use strict';\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nconst mask = (source, mask, output, offset, length) => {\n  for (var i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n};\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nconst unmask = (buffer, mask) => {\n  // Required until https://github.com/nodejs/node/issues/9006 is resolved.\n  const length = buffer.length;\n  for (var i = 0; i < length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n};\nmodule.exports = {\n  mask,\n  unmask\n};", "'use strict';\n\ntry {\n  module.exports = require('node-gyp-build')(__dirname);\n} catch (e) {\n  module.exports = require('./fallback');\n}", "/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar bufferUtil = require('bufferutil');\nvar bufferAllocUnsafe = require('./utils').bufferAllocUnsafe;\nconst DECODE_HEADER = 1;\nconst WAITING_FOR_16_BIT_LENGTH = 2;\nconst WAITING_FOR_64_BIT_LENGTH = 3;\nconst WAITING_FOR_MASK_KEY = 4;\nconst WAITING_FOR_PAYLOAD = 5;\nconst COMPLETE = 6;\n\n// WebSocketConnection will pass shared buffer objects for maskBytes and\n// frameHeader into the constructor to avoid tons of small memory allocations\n// for each frame we have to parse.  This is only used for parsing frames\n// we receive off the wire.\nfunction WebSocketFrame(maskBytes, frameHeader, config) {\n  this.maskBytes = maskBytes;\n  this.frameHeader = frameHeader;\n  this.config = config;\n  this.maxReceivedFrameSize = config.maxReceivedFrameSize;\n  this.protocolError = false;\n  this.frameTooLarge = false;\n  this.invalidCloseFrameLength = false;\n  this.parseState = DECODE_HEADER;\n  this.closeStatus = -1;\n}\nWebSocketFrame.prototype.addData = function (bufferList) {\n  if (this.parseState === DECODE_HEADER) {\n    if (bufferList.length >= 2) {\n      bufferList.joinInto(this.frameHeader, 0, 0, 2);\n      bufferList.advance(2);\n      var firstByte = this.frameHeader[0];\n      var secondByte = this.frameHeader[1];\n      this.fin = Boolean(firstByte & 0x80);\n      this.rsv1 = Boolean(firstByte & 0x40);\n      this.rsv2 = Boolean(firstByte & 0x20);\n      this.rsv3 = Boolean(firstByte & 0x10);\n      this.mask = Boolean(secondByte & 0x80);\n      this.opcode = firstByte & 0x0F;\n      this.length = secondByte & 0x7F;\n\n      // Control frame sanity check\n      if (this.opcode >= 0x08) {\n        if (this.length > 125) {\n          this.protocolError = true;\n          this.dropReason = 'Illegal control frame longer than 125 bytes.';\n          return true;\n        }\n        if (!this.fin) {\n          this.protocolError = true;\n          this.dropReason = 'Control frames must not be fragmented.';\n          return true;\n        }\n      }\n      if (this.length === 126) {\n        this.parseState = WAITING_FOR_16_BIT_LENGTH;\n      } else if (this.length === 127) {\n        this.parseState = WAITING_FOR_64_BIT_LENGTH;\n      } else {\n        this.parseState = WAITING_FOR_MASK_KEY;\n      }\n    }\n  }\n  if (this.parseState === WAITING_FOR_16_BIT_LENGTH) {\n    if (bufferList.length >= 2) {\n      bufferList.joinInto(this.frameHeader, 2, 0, 2);\n      bufferList.advance(2);\n      this.length = this.frameHeader.readUInt16BE(2);\n      this.parseState = WAITING_FOR_MASK_KEY;\n    }\n  } else if (this.parseState === WAITING_FOR_64_BIT_LENGTH) {\n    if (bufferList.length >= 8) {\n      bufferList.joinInto(this.frameHeader, 2, 0, 8);\n      bufferList.advance(8);\n      var lengthPair = [this.frameHeader.readUInt32BE(2), this.frameHeader.readUInt32BE(2 + 4)];\n      if (lengthPair[0] !== 0) {\n        this.protocolError = true;\n        this.dropReason = 'Unsupported 64-bit length frame received';\n        return true;\n      }\n      this.length = lengthPair[1];\n      this.parseState = WAITING_FOR_MASK_KEY;\n    }\n  }\n  if (this.parseState === WAITING_FOR_MASK_KEY) {\n    if (this.mask) {\n      if (bufferList.length >= 4) {\n        bufferList.joinInto(this.maskBytes, 0, 0, 4);\n        bufferList.advance(4);\n        this.parseState = WAITING_FOR_PAYLOAD;\n      }\n    } else {\n      this.parseState = WAITING_FOR_PAYLOAD;\n    }\n  }\n  if (this.parseState === WAITING_FOR_PAYLOAD) {\n    if (this.length > this.maxReceivedFrameSize) {\n      this.frameTooLarge = true;\n      this.dropReason = 'Frame size of ' + this.length.toString(10) + ' bytes exceeds maximum accepted frame size';\n      return true;\n    }\n    if (this.length === 0) {\n      this.binaryPayload = bufferAllocUnsafe(0);\n      this.parseState = COMPLETE;\n      return true;\n    }\n    if (bufferList.length >= this.length) {\n      this.binaryPayload = bufferList.take(this.length);\n      bufferList.advance(this.length);\n      if (this.mask) {\n        bufferUtil.unmask(this.binaryPayload, this.maskBytes);\n        // xor(this.binaryPayload, this.maskBytes, 0);\n      }\n      if (this.opcode === 0x08) {\n        // WebSocketOpcode.CONNECTION_CLOSE\n        if (this.length === 1) {\n          // Invalid length for a close frame.  Must be zero or at least two.\n          this.binaryPayload = bufferAllocUnsafe(0);\n          this.invalidCloseFrameLength = true;\n        }\n        if (this.length >= 2) {\n          this.closeStatus = this.binaryPayload.readUInt16BE(0);\n          this.binaryPayload = this.binaryPayload.slice(2);\n        }\n      }\n      this.parseState = COMPLETE;\n      return true;\n    }\n  }\n  return false;\n};\nWebSocketFrame.prototype.throwAwayPayload = function (bufferList) {\n  if (bufferList.length >= this.length) {\n    bufferList.advance(this.length);\n    this.parseState = COMPLETE;\n    return true;\n  }\n  return false;\n};\nWebSocketFrame.prototype.toBuffer = function (nullMask) {\n  var maskKey;\n  var headerLength = 2;\n  var data;\n  var outputPos;\n  var firstByte = 0x00;\n  var secondByte = 0x00;\n  if (this.fin) {\n    firstByte |= 0x80;\n  }\n  if (this.rsv1) {\n    firstByte |= 0x40;\n  }\n  if (this.rsv2) {\n    firstByte |= 0x20;\n  }\n  if (this.rsv3) {\n    firstByte |= 0x10;\n  }\n  if (this.mask) {\n    secondByte |= 0x80;\n  }\n  firstByte |= this.opcode & 0x0F;\n\n  // the close frame is a special case because the close reason is\n  // prepended to the payload data.\n  if (this.opcode === 0x08) {\n    this.length = 2;\n    if (this.binaryPayload) {\n      this.length += this.binaryPayload.length;\n    }\n    data = bufferAllocUnsafe(this.length);\n    data.writeUInt16BE(this.closeStatus, 0);\n    if (this.length > 2) {\n      this.binaryPayload.copy(data, 2);\n    }\n  } else if (this.binaryPayload) {\n    data = this.binaryPayload;\n    this.length = data.length;\n  } else {\n    this.length = 0;\n  }\n  if (this.length <= 125) {\n    // encode the length directly into the two-byte frame header\n    secondByte |= this.length & 0x7F;\n  } else if (this.length > 125 && this.length <= 0xFFFF) {\n    // Use 16-bit length\n    secondByte |= 126;\n    headerLength += 2;\n  } else if (this.length > 0xFFFF) {\n    // Use 64-bit length\n    secondByte |= 127;\n    headerLength += 8;\n  }\n  var output = bufferAllocUnsafe(this.length + headerLength + (this.mask ? 4 : 0));\n\n  // write the frame header\n  output[0] = firstByte;\n  output[1] = secondByte;\n  outputPos = 2;\n  if (this.length > 125 && this.length <= 0xFFFF) {\n    // write 16-bit length\n    output.writeUInt16BE(this.length, outputPos);\n    outputPos += 2;\n  } else if (this.length > 0xFFFF) {\n    // write 64-bit length\n    output.writeUInt32BE(0x00000000, outputPos);\n    output.writeUInt32BE(this.length, outputPos + 4);\n    outputPos += 8;\n  }\n  if (this.mask) {\n    maskKey = nullMask ? 0 : Math.random() * 0xFFFFFFFF >>> 0;\n    this.maskBytes.writeUInt32BE(maskKey, 0);\n\n    // write the mask key\n    this.maskBytes.copy(output, outputPos);\n    outputPos += 4;\n    if (data) {\n      bufferUtil.mask(data, this.maskBytes, output, outputPos, this.length);\n    }\n  } else if (data) {\n    data.copy(output, outputPos);\n  }\n  return output;\n};\nWebSocketFrame.prototype.toString = function () {\n  return 'Opcode: ' + this.opcode + ', fin: ' + this.fin + ', length: ' + this.length + ', hasPayload: ' + Boolean(this.binaryPayload) + ', masked: ' + this.mask;\n};\nmodule.exports = WebSocketFrame;", "// This file was copied from https://github.com/substack/node-bufferlist\n// and modified to be able to copy bytes from the bufferlist directly into\n// a pre-existing fixed-size buffer without an additional memory allocation.\n\n// bufferlist.js\n// Treat a linked list of buffers as a single variable-size buffer.\nvar Buffer = require('buffer').Buffer;\nvar EventEmitter = require('events').EventEmitter;\nvar bufferAllocUnsafe = require('../lib/utils').bufferAllocUnsafe;\nmodule.exports = BufferList;\nmodule.exports.BufferList = BufferList; // backwards compatibility\n\nfunction BufferList(opts) {\n  if (!(this instanceof BufferList)) return new BufferList(opts);\n  EventEmitter.call(this);\n  var self = this;\n  if (typeof opts == 'undefined') opts = {};\n\n  // default encoding to use for take(). Leaving as 'undefined'\n  // makes take() return a Buffer instead.\n  self.encoding = opts.encoding;\n  var head = {\n    next: null,\n    buffer: null\n  };\n  var last = {\n    next: null,\n    buffer: null\n  };\n\n  // length can get negative when advanced past the end\n  // and this is the desired behavior\n  var length = 0;\n  self.__defineGetter__('length', function () {\n    return length;\n  });\n\n  // keep an offset of the head to decide when to head = head.next\n  var offset = 0;\n\n  // Write to the bufferlist. Emits 'write'. Always returns true.\n  self.write = function (buf) {\n    if (!head.buffer) {\n      head.buffer = buf;\n      last = head;\n    } else {\n      last.next = {\n        next: null,\n        buffer: buf\n      };\n      last = last.next;\n    }\n    length += buf.length;\n    self.emit('write', buf);\n    return true;\n  };\n  self.end = function (buf) {\n    if (Buffer.isBuffer(buf)) self.write(buf);\n  };\n\n  // Push buffers to the end of the linked list. (deprecated)\n  // Return this (self).\n  self.push = function () {\n    var args = [].concat.apply([], arguments);\n    args.forEach(self.write);\n    return self;\n  };\n\n  // For each buffer, perform some action.\n  // If fn's result is a true value, cut out early.\n  // Returns this (self).\n  self.forEach = function (fn) {\n    if (!head.buffer) return bufferAllocUnsafe(0);\n    if (head.buffer.length - offset <= 0) return self;\n    var firstBuf = head.buffer.slice(offset);\n    var b = {\n      buffer: firstBuf,\n      next: head.next\n    };\n    while (b && b.buffer) {\n      var r = fn(b.buffer);\n      if (r) break;\n      b = b.next;\n    }\n    return self;\n  };\n\n  // Create a single Buffer out of all the chunks or some subset specified by\n  // start and one-past the end (like slice) in bytes.\n  self.join = function (start, end) {\n    if (!head.buffer) return bufferAllocUnsafe(0);\n    if (start == undefined) start = 0;\n    if (end == undefined) end = self.length;\n    var big = bufferAllocUnsafe(end - start);\n    var ix = 0;\n    self.forEach(function (buffer) {\n      if (start < ix + buffer.length && ix < end) {\n        // at least partially contained in the range\n        buffer.copy(big, Math.max(0, ix - start), Math.max(0, start - ix), Math.min(buffer.length, end - ix));\n      }\n      ix += buffer.length;\n      if (ix > end) return true; // stop processing past end\n    });\n    return big;\n  };\n  self.joinInto = function (targetBuffer, targetStart, sourceStart, sourceEnd) {\n    if (!head.buffer) return new bufferAllocUnsafe(0);\n    if (sourceStart == undefined) sourceStart = 0;\n    if (sourceEnd == undefined) sourceEnd = self.length;\n    var big = targetBuffer;\n    if (big.length - targetStart < sourceEnd - sourceStart) {\n      throw new Error(\"Insufficient space available in target Buffer.\");\n    }\n    var ix = 0;\n    self.forEach(function (buffer) {\n      if (sourceStart < ix + buffer.length && ix < sourceEnd) {\n        // at least partially contained in the range\n        buffer.copy(big, Math.max(targetStart, targetStart + ix - sourceStart), Math.max(0, sourceStart - ix), Math.min(buffer.length, sourceEnd - ix));\n      }\n      ix += buffer.length;\n      if (ix > sourceEnd) return true; // stop processing past end\n    });\n    return big;\n  };\n\n  // Advance the buffer stream by n bytes.\n  // If n the aggregate advance offset passes the end of the buffer list,\n  // operations such as .take() will return empty strings until enough data is\n  // pushed.\n  // Returns this (self).\n  self.advance = function (n) {\n    offset += n;\n    length -= n;\n    while (head.buffer && offset >= head.buffer.length) {\n      offset -= head.buffer.length;\n      head = head.next ? head.next : {\n        buffer: null,\n        next: null\n      };\n    }\n    if (head.buffer === null) last = {\n      next: null,\n      buffer: null\n    };\n    self.emit('advance', n);\n    return self;\n  };\n\n  // Take n bytes from the start of the buffers.\n  // Returns a string.\n  // If there are less than n bytes in all the buffers or n is undefined,\n  // returns the entire concatenated buffer string.\n  self.take = function (n, encoding) {\n    if (n == undefined) n = self.length;else if (typeof n !== 'number') {\n      encoding = n;\n      n = self.length;\n    }\n    var b = head;\n    if (!encoding) encoding = self.encoding;\n    if (encoding) {\n      var acc = '';\n      self.forEach(function (buffer) {\n        if (n <= 0) return true;\n        acc += buffer.toString(encoding, 0, Math.min(n, buffer.length));\n        n -= buffer.length;\n      });\n      return acc;\n    } else {\n      // If no 'encoding' is specified, then return a Buffer.\n      return self.join(0, n);\n    }\n  };\n\n  // The entire concatenated buffer as a string.\n  self.toString = function () {\n    return self.take('binary');\n  };\n}\nrequire('util').inherits(BufferList, EventEmitter);", "'use strict';\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0x00) {\n      // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {\n      // 110xxxxx 10xxxxxx\n      if (i + 1 === len || (buf[i + 1] & 0xc0) !== 0x80 || (buf[i] & 0xfe) === 0xc0 // overlong\n      ) {\n        return false;\n      }\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {\n      // 1110xxxx 10xxxxxx 10xxxxxx\n      if (i + 2 >= len || (buf[i + 1] & 0xc0) !== 0x80 || (buf[i + 2] & 0xc0) !== 0x80 || buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80 ||\n      // overlong\n      buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0 // surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (i + 3 >= len || (buf[i + 1] & 0xc0) !== 0x80 || (buf[i + 2] & 0xc0) !== 0x80 || (buf[i + 3] & 0xc0) !== 0x80 || buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80 ||\n      // overlong\n      buf[i] === 0xf4 && buf[i + 1] > 0x8f || buf[i] > 0xf4 // > U+10FFFF\n      ) {\n        return false;\n      }\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n  return true;\n}\nmodule.exports = isValidUTF8;", "'use strict';\n\ntry {\n  module.exports = require('node-gyp-build')(__dirname);\n} catch (e) {\n  module.exports = require('./fallback');\n}", "/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar util = require('util');\nvar utils = require('./utils');\nvar EventEmitter = require('events').EventEmitter;\nvar WebSocketFrame = require('./WebSocketFrame');\nvar BufferList = require('../vendor/FastBufferList');\nvar isValidUTF8 = require('utf-8-validate');\nvar bufferAllocUnsafe = utils.bufferAllocUnsafe;\nvar bufferFromString = utils.bufferFromString;\n\n// Connected, fully-open, ready to send and receive frames\nconst STATE_OPEN = 'open';\n// Received a close frame from the remote peer\nconst STATE_PEER_REQUESTED_CLOSE = 'peer_requested_close';\n// Sent close frame to remote peer.  No further data can be sent.\nconst STATE_ENDING = 'ending';\n// Connection is fully closed.  No further data can be sent or received.\nconst STATE_CLOSED = 'closed';\nvar setImmediateImpl = 'setImmediate' in global ? global.setImmediate.bind(global) : process.nextTick.bind(process);\nvar idCounter = 0;\nfunction WebSocketConnection(socket, extensions, protocol, maskOutgoingPackets, config) {\n  this._debug = utils.BufferingLogger('websocket:connection', ++idCounter);\n  this._debug('constructor');\n  if (this._debug.enabled) {\n    instrumentSocketForDebugging(this, socket);\n  }\n\n  // Superclass Constructor\n  EventEmitter.call(this);\n  this._pingListenerCount = 0;\n  this.on('newListener', function (ev) {\n    if (ev === 'ping') {\n      this._pingListenerCount++;\n    }\n  }).on('removeListener', function (ev) {\n    if (ev === 'ping') {\n      this._pingListenerCount--;\n    }\n  });\n  this.config = config;\n  this.socket = socket;\n  this.protocol = protocol;\n  this.extensions = extensions;\n  this.remoteAddress = socket.remoteAddress;\n  this.closeReasonCode = -1;\n  this.closeDescription = null;\n  this.closeEventEmitted = false;\n\n  // We have to mask outgoing packets if we're acting as a WebSocket client.\n  this.maskOutgoingPackets = maskOutgoingPackets;\n\n  // We re-use the same buffers for the mask and frame header for all frames\n  // received on each connection to avoid a small memory allocation for each\n  // frame.\n  this.maskBytes = bufferAllocUnsafe(4);\n  this.frameHeader = bufferAllocUnsafe(10);\n\n  // the BufferList will handle the data streaming in\n  this.bufferList = new BufferList();\n\n  // Prepare for receiving first frame\n  this.currentFrame = new WebSocketFrame(this.maskBytes, this.frameHeader, this.config);\n  this.fragmentationSize = 0; // data received so far...\n  this.frameQueue = [];\n\n  // Various bits of connection state\n  this.connected = true;\n  this.state = STATE_OPEN;\n  this.waitingForCloseResponse = false;\n  // Received TCP FIN, socket's readable stream is finished.\n  this.receivedEnd = false;\n  this.closeTimeout = this.config.closeTimeout;\n  this.assembleFragments = this.config.assembleFragments;\n  this.maxReceivedMessageSize = this.config.maxReceivedMessageSize;\n  this.outputBufferFull = false;\n  this.inputPaused = false;\n  this.receivedDataHandler = this.processReceivedData.bind(this);\n  this._closeTimerHandler = this.handleCloseTimer.bind(this);\n\n  // Disable nagle algorithm?\n  this.socket.setNoDelay(this.config.disableNagleAlgorithm);\n\n  // Make sure there is no socket inactivity timeout\n  this.socket.setTimeout(0);\n  if (this.config.keepalive && !this.config.useNativeKeepalive) {\n    if (typeof this.config.keepaliveInterval !== 'number') {\n      throw new Error('keepaliveInterval must be specified and numeric ' + 'if keepalive is true.');\n    }\n    this._keepaliveTimerHandler = this.handleKeepaliveTimer.bind(this);\n    this.setKeepaliveTimer();\n    if (this.config.dropConnectionOnKeepaliveTimeout) {\n      if (typeof this.config.keepaliveGracePeriod !== 'number') {\n        throw new Error('keepaliveGracePeriod  must be specified and ' + 'numeric if dropConnectionOnKeepaliveTimeout ' + 'is true.');\n      }\n      this._gracePeriodTimerHandler = this.handleGracePeriodTimer.bind(this);\n    }\n  } else if (this.config.keepalive && this.config.useNativeKeepalive) {\n    if (!('setKeepAlive' in this.socket)) {\n      throw new Error('Unable to use native keepalive: unsupported by ' + 'this version of Node.');\n    }\n    this.socket.setKeepAlive(true, this.config.keepaliveInterval);\n  }\n\n  // The HTTP Client seems to subscribe to socket error events\n  // and re-dispatch them in such a way that doesn't make sense\n  // for users of our client, so we want to make sure nobody\n  // else is listening for error events on the socket besides us.\n  this.socket.removeAllListeners('error');\n}\nWebSocketConnection.CLOSE_REASON_NORMAL = 1000;\nWebSocketConnection.CLOSE_REASON_GOING_AWAY = 1001;\nWebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR = 1002;\nWebSocketConnection.CLOSE_REASON_UNPROCESSABLE_INPUT = 1003;\nWebSocketConnection.CLOSE_REASON_RESERVED = 1004; // Reserved value.  Undefined meaning.\nWebSocketConnection.CLOSE_REASON_NOT_PROVIDED = 1005; // Not to be used on the wire\nWebSocketConnection.CLOSE_REASON_ABNORMAL = 1006; // Not to be used on the wire\nWebSocketConnection.CLOSE_REASON_INVALID_DATA = 1007;\nWebSocketConnection.CLOSE_REASON_POLICY_VIOLATION = 1008;\nWebSocketConnection.CLOSE_REASON_MESSAGE_TOO_BIG = 1009;\nWebSocketConnection.CLOSE_REASON_EXTENSION_REQUIRED = 1010;\nWebSocketConnection.CLOSE_REASON_INTERNAL_SERVER_ERROR = 1011;\nWebSocketConnection.CLOSE_REASON_TLS_HANDSHAKE_FAILED = 1015; // Not to be used on the wire\n\nWebSocketConnection.CLOSE_DESCRIPTIONS = {\n  1000: 'Normal connection closure',\n  1001: 'Remote peer is going away',\n  1002: 'Protocol error',\n  1003: 'Unprocessable input',\n  1004: 'Reserved',\n  1005: 'Reason not provided',\n  1006: 'Abnormal closure, no further detail available',\n  1007: 'Invalid data received',\n  1008: 'Policy violation',\n  1009: 'Message too big',\n  1010: 'Extension requested by client is required',\n  1011: 'Internal Server Error',\n  1015: 'TLS Handshake Failed'\n};\nfunction validateCloseReason(code) {\n  if (code < 1000) {\n    // Status codes in the range 0-999 are not used\n    return false;\n  }\n  if (code >= 1000 && code <= 2999) {\n    // Codes from 1000 - 2999 are reserved for use by the protocol.  Only\n    // a few codes are defined, all others are currently illegal.\n    return [1000, 1001, 1002, 1003, 1007, 1008, 1009, 1010, 1011, 1012, 1013, 1014, 1015].indexOf(code) !== -1;\n  }\n  if (code >= 3000 && code <= 3999) {\n    // Reserved for use by libraries, frameworks, and applications.\n    // Should be registered with IANA.  Interpretation of these codes is\n    // undefined by the WebSocket protocol.\n    return true;\n  }\n  if (code >= 4000 && code <= 4999) {\n    // Reserved for private use.  Interpretation of these codes is\n    // undefined by the WebSocket protocol.\n    return true;\n  }\n  if (code >= 5000) {\n    return false;\n  }\n}\nutil.inherits(WebSocketConnection, EventEmitter);\nWebSocketConnection.prototype._addSocketEventListeners = function () {\n  this.socket.on('error', this.handleSocketError.bind(this));\n  this.socket.on('end', this.handleSocketEnd.bind(this));\n  this.socket.on('close', this.handleSocketClose.bind(this));\n  this.socket.on('drain', this.handleSocketDrain.bind(this));\n  this.socket.on('pause', this.handleSocketPause.bind(this));\n  this.socket.on('resume', this.handleSocketResume.bind(this));\n  this.socket.on('data', this.handleSocketData.bind(this));\n};\n\n// set or reset the keepalive timer when data is received.\nWebSocketConnection.prototype.setKeepaliveTimer = function () {\n  this._debug('setKeepaliveTimer');\n  if (!this.config.keepalive || this.config.useNativeKeepalive) {\n    return;\n  }\n  this.clearKeepaliveTimer();\n  this.clearGracePeriodTimer();\n  this._keepaliveTimeoutID = setTimeout(this._keepaliveTimerHandler, this.config.keepaliveInterval);\n};\nWebSocketConnection.prototype.clearKeepaliveTimer = function () {\n  if (this._keepaliveTimeoutID) {\n    clearTimeout(this._keepaliveTimeoutID);\n  }\n};\n\n// No data has been received within config.keepaliveTimeout ms.\nWebSocketConnection.prototype.handleKeepaliveTimer = function () {\n  this._debug('handleKeepaliveTimer');\n  this._keepaliveTimeoutID = null;\n  this.ping();\n\n  // If we are configured to drop connections if the client doesn't respond\n  // then set the grace period timer.\n  if (this.config.dropConnectionOnKeepaliveTimeout) {\n    this.setGracePeriodTimer();\n  } else {\n    // Otherwise reset the keepalive timer to send the next ping.\n    this.setKeepaliveTimer();\n  }\n};\nWebSocketConnection.prototype.setGracePeriodTimer = function () {\n  this._debug('setGracePeriodTimer');\n  this.clearGracePeriodTimer();\n  this._gracePeriodTimeoutID = setTimeout(this._gracePeriodTimerHandler, this.config.keepaliveGracePeriod);\n};\nWebSocketConnection.prototype.clearGracePeriodTimer = function () {\n  if (this._gracePeriodTimeoutID) {\n    clearTimeout(this._gracePeriodTimeoutID);\n  }\n};\nWebSocketConnection.prototype.handleGracePeriodTimer = function () {\n  this._debug('handleGracePeriodTimer');\n  // If this is called, the client has not responded and is assumed dead.\n  this._gracePeriodTimeoutID = null;\n  this.drop(WebSocketConnection.CLOSE_REASON_ABNORMAL, 'Peer not responding.', true);\n};\nWebSocketConnection.prototype.handleSocketData = function (data) {\n  this._debug('handleSocketData');\n  // Reset the keepalive timer when receiving data of any kind.\n  this.setKeepaliveTimer();\n\n  // Add received data to our bufferList, which efficiently holds received\n  // data chunks in a linked list of Buffer objects.\n  this.bufferList.write(data);\n  this.processReceivedData();\n};\nWebSocketConnection.prototype.processReceivedData = function () {\n  this._debug('processReceivedData');\n  // If we're not connected, we should ignore any data remaining on the buffer.\n  if (!this.connected) {\n    return;\n  }\n\n  // Receiving/parsing is expected to be halted when paused.\n  if (this.inputPaused) {\n    return;\n  }\n  var frame = this.currentFrame;\n\n  // WebSocketFrame.prototype.addData returns true if all data necessary to\n  // parse the frame was available.  It returns false if we are waiting for\n  // more data to come in on the wire.\n  if (!frame.addData(this.bufferList)) {\n    this._debug('-- insufficient data for frame');\n    return;\n  }\n  var self = this;\n\n  // Handle possible parsing errors\n  if (frame.protocolError) {\n    // Something bad happened.. get rid of this client.\n    this._debug('-- protocol error');\n    process.nextTick(function () {\n      self.drop(WebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR, frame.dropReason);\n    });\n    return;\n  } else if (frame.frameTooLarge) {\n    this._debug('-- frame too large');\n    process.nextTick(function () {\n      self.drop(WebSocketConnection.CLOSE_REASON_MESSAGE_TOO_BIG, frame.dropReason);\n    });\n    return;\n  }\n\n  // For now since we don't support extensions, all RSV bits are illegal\n  if (frame.rsv1 || frame.rsv2 || frame.rsv3) {\n    this._debug('-- illegal rsv flag');\n    process.nextTick(function () {\n      self.drop(WebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR, 'Unsupported usage of rsv bits without negotiated extension.');\n    });\n    return;\n  }\n  if (!this.assembleFragments) {\n    this._debug('-- emitting frame');\n    process.nextTick(function () {\n      self.emit('frame', frame);\n    });\n  }\n  process.nextTick(function () {\n    self.processFrame(frame);\n  });\n  this.currentFrame = new WebSocketFrame(this.maskBytes, this.frameHeader, this.config);\n\n  // If there's data remaining, schedule additional processing, but yield\n  // for now so that other connections have a chance to have their data\n  // processed.  We use setImmediate here instead of process.nextTick to\n  // explicitly indicate that we wish for other I/O to be handled first.\n  if (this.bufferList.length > 0) {\n    setImmediateImpl(this.receivedDataHandler);\n  }\n};\nWebSocketConnection.prototype.handleSocketError = function (error) {\n  this._debug('handleSocketError: %j', error);\n  if (this.state === STATE_CLOSED) {\n    // See https://github.com/theturtle32/WebSocket-Node/issues/288\n    this._debug('  --- Socket \\'error\\' after \\'close\\'');\n    return;\n  }\n  this.closeReasonCode = WebSocketConnection.CLOSE_REASON_ABNORMAL;\n  this.closeDescription = 'Socket Error: ' + error.syscall + ' ' + error.code;\n  this.connected = false;\n  this.state = STATE_CLOSED;\n  this.fragmentationSize = 0;\n  if (utils.eventEmitterListenerCount(this, 'error') > 0) {\n    this.emit('error', error);\n  }\n  this.socket.destroy();\n  this._debug.printOutput();\n};\nWebSocketConnection.prototype.handleSocketEnd = function () {\n  this._debug('handleSocketEnd: received socket end.  state = %s', this.state);\n  this.receivedEnd = true;\n  if (this.state === STATE_CLOSED) {\n    // When using the TLS module, sometimes the socket will emit 'end'\n    // after it emits 'close'.  I don't think that's correct behavior,\n    // but we should deal with it gracefully by ignoring it.\n    this._debug('  --- Socket \\'end\\' after \\'close\\'');\n    return;\n  }\n  if (this.state !== STATE_PEER_REQUESTED_CLOSE && this.state !== STATE_ENDING) {\n    this._debug('  --- UNEXPECTED socket end.');\n    this.socket.end();\n  }\n};\nWebSocketConnection.prototype.handleSocketClose = function (hadError) {\n  this._debug('handleSocketClose: received socket close');\n  this.socketHadError = hadError;\n  this.connected = false;\n  this.state = STATE_CLOSED;\n  // If closeReasonCode is still set to -1 at this point then we must\n  // not have received a close frame!!\n  if (this.closeReasonCode === -1) {\n    this.closeReasonCode = WebSocketConnection.CLOSE_REASON_ABNORMAL;\n    this.closeDescription = 'Connection dropped by remote peer.';\n  }\n  this.clearCloseTimer();\n  this.clearKeepaliveTimer();\n  this.clearGracePeriodTimer();\n  if (!this.closeEventEmitted) {\n    this.closeEventEmitted = true;\n    this._debug('-- Emitting WebSocketConnection close event');\n    this.emit('close', this.closeReasonCode, this.closeDescription);\n  }\n};\nWebSocketConnection.prototype.handleSocketDrain = function () {\n  this._debug('handleSocketDrain: socket drain event');\n  this.outputBufferFull = false;\n  this.emit('drain');\n};\nWebSocketConnection.prototype.handleSocketPause = function () {\n  this._debug('handleSocketPause: socket pause event');\n  this.inputPaused = true;\n  this.emit('pause');\n};\nWebSocketConnection.prototype.handleSocketResume = function () {\n  this._debug('handleSocketResume: socket resume event');\n  this.inputPaused = false;\n  this.emit('resume');\n  this.processReceivedData();\n};\nWebSocketConnection.prototype.pause = function () {\n  this._debug('pause: pause requested');\n  this.socket.pause();\n};\nWebSocketConnection.prototype.resume = function () {\n  this._debug('resume: resume requested');\n  this.socket.resume();\n};\nWebSocketConnection.prototype.close = function (reasonCode, description) {\n  if (this.connected) {\n    this._debug('close: Initating clean WebSocket close sequence.');\n    if ('number' !== typeof reasonCode) {\n      reasonCode = WebSocketConnection.CLOSE_REASON_NORMAL;\n    }\n    if (!validateCloseReason(reasonCode)) {\n      throw new Error('Close code ' + reasonCode + ' is not valid.');\n    }\n    if ('string' !== typeof description) {\n      description = WebSocketConnection.CLOSE_DESCRIPTIONS[reasonCode];\n    }\n    this.closeReasonCode = reasonCode;\n    this.closeDescription = description;\n    this.setCloseTimer();\n    this.sendCloseFrame(this.closeReasonCode, this.closeDescription);\n    this.state = STATE_ENDING;\n    this.connected = false;\n  }\n};\nWebSocketConnection.prototype.drop = function (reasonCode, description, skipCloseFrame) {\n  this._debug('drop');\n  if (typeof reasonCode !== 'number') {\n    reasonCode = WebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR;\n  }\n  if (typeof description !== 'string') {\n    // If no description is provided, try to look one up based on the\n    // specified reasonCode.\n    description = WebSocketConnection.CLOSE_DESCRIPTIONS[reasonCode];\n  }\n  this._debug('Forcefully dropping connection. skipCloseFrame: %s, code: %d, description: %s', skipCloseFrame, reasonCode, description);\n  this.closeReasonCode = reasonCode;\n  this.closeDescription = description;\n  this.frameQueue = [];\n  this.fragmentationSize = 0;\n  if (!skipCloseFrame) {\n    this.sendCloseFrame(reasonCode, description);\n  }\n  this.connected = false;\n  this.state = STATE_CLOSED;\n  this.clearCloseTimer();\n  this.clearKeepaliveTimer();\n  this.clearGracePeriodTimer();\n  if (!this.closeEventEmitted) {\n    this.closeEventEmitted = true;\n    this._debug('Emitting WebSocketConnection close event');\n    this.emit('close', this.closeReasonCode, this.closeDescription);\n  }\n  this._debug('Drop: destroying socket');\n  this.socket.destroy();\n};\nWebSocketConnection.prototype.setCloseTimer = function () {\n  this._debug('setCloseTimer');\n  this.clearCloseTimer();\n  this._debug('Setting close timer');\n  this.waitingForCloseResponse = true;\n  this.closeTimer = setTimeout(this._closeTimerHandler, this.closeTimeout);\n};\nWebSocketConnection.prototype.clearCloseTimer = function () {\n  this._debug('clearCloseTimer');\n  if (this.closeTimer) {\n    this._debug('Clearing close timer');\n    clearTimeout(this.closeTimer);\n    this.waitingForCloseResponse = false;\n    this.closeTimer = null;\n  }\n};\nWebSocketConnection.prototype.handleCloseTimer = function () {\n  this._debug('handleCloseTimer');\n  this.closeTimer = null;\n  if (this.waitingForCloseResponse) {\n    this._debug('Close response not received from client.  Forcing socket end.');\n    this.waitingForCloseResponse = false;\n    this.state = STATE_CLOSED;\n    this.socket.end();\n  }\n};\nWebSocketConnection.prototype.processFrame = function (frame) {\n  this._debug('processFrame');\n  this._debug(' -- frame: %s', frame);\n\n  // Any non-control opcode besides 0x00 (continuation) received in the\n  // middle of a fragmented message is illegal.\n  if (this.frameQueue.length !== 0 && frame.opcode > 0x00 && frame.opcode < 0x08) {\n    this.drop(WebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR, 'Illegal frame opcode 0x' + frame.opcode.toString(16) + ' ' + 'received in middle of fragmented message.');\n    return;\n  }\n  switch (frame.opcode) {\n    case 0x02:\n      // WebSocketFrame.BINARY_FRAME\n      this._debug('-- Binary Frame');\n      if (this.assembleFragments) {\n        if (frame.fin) {\n          // Complete single-frame message received\n          this._debug('---- Emitting \\'message\\' event');\n          this.emit('message', {\n            type: 'binary',\n            binaryData: frame.binaryPayload\n          });\n        } else {\n          // beginning of a fragmented message\n          this.frameQueue.push(frame);\n          this.fragmentationSize = frame.length;\n        }\n      }\n      break;\n    case 0x01:\n      // WebSocketFrame.TEXT_FRAME\n      this._debug('-- Text Frame');\n      if (this.assembleFragments) {\n        if (frame.fin) {\n          if (!isValidUTF8(frame.binaryPayload)) {\n            this.drop(WebSocketConnection.CLOSE_REASON_INVALID_DATA, 'Invalid UTF-8 Data Received');\n            return;\n          }\n          // Complete single-frame message received\n          this._debug('---- Emitting \\'message\\' event');\n          this.emit('message', {\n            type: 'utf8',\n            utf8Data: frame.binaryPayload.toString('utf8')\n          });\n        } else {\n          // beginning of a fragmented message\n          this.frameQueue.push(frame);\n          this.fragmentationSize = frame.length;\n        }\n      }\n      break;\n    case 0x00:\n      // WebSocketFrame.CONTINUATION\n      this._debug('-- Continuation Frame');\n      if (this.assembleFragments) {\n        if (this.frameQueue.length === 0) {\n          this.drop(WebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR, 'Unexpected Continuation Frame');\n          return;\n        }\n        this.fragmentationSize += frame.length;\n        if (this.fragmentationSize > this.maxReceivedMessageSize) {\n          this.drop(WebSocketConnection.CLOSE_REASON_MESSAGE_TOO_BIG, 'Maximum message size exceeded.');\n          return;\n        }\n        this.frameQueue.push(frame);\n        if (frame.fin) {\n          // end of fragmented message, so we process the whole\n          // message now.  We also have to decode the utf-8 data\n          // for text frames after combining all the fragments.\n          var bytesCopied = 0;\n          var binaryPayload = bufferAllocUnsafe(this.fragmentationSize);\n          var opcode = this.frameQueue[0].opcode;\n          this.frameQueue.forEach(function (currentFrame) {\n            currentFrame.binaryPayload.copy(binaryPayload, bytesCopied);\n            bytesCopied += currentFrame.binaryPayload.length;\n          });\n          this.frameQueue = [];\n          this.fragmentationSize = 0;\n          switch (opcode) {\n            case 0x02:\n              // WebSocketOpcode.BINARY_FRAME\n              this.emit('message', {\n                type: 'binary',\n                binaryData: binaryPayload\n              });\n              break;\n            case 0x01:\n              // WebSocketOpcode.TEXT_FRAME\n              if (!isValidUTF8(binaryPayload)) {\n                this.drop(WebSocketConnection.CLOSE_REASON_INVALID_DATA, 'Invalid UTF-8 Data Received');\n                return;\n              }\n              this.emit('message', {\n                type: 'utf8',\n                utf8Data: binaryPayload.toString('utf8')\n              });\n              break;\n            default:\n              this.drop(WebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR, 'Unexpected first opcode in fragmentation sequence: 0x' + opcode.toString(16));\n              return;\n          }\n        }\n      }\n      break;\n    case 0x09:\n      // WebSocketFrame.PING\n      this._debug('-- Ping Frame');\n      if (this._pingListenerCount > 0) {\n        // logic to emit the ping frame: this is only done when a listener is known to exist\n        // Expose a function allowing the user to override the default ping() behavior\n        var cancelled = false;\n        var cancel = function () {\n          cancelled = true;\n        };\n        this.emit('ping', cancel, frame.binaryPayload);\n\n        // Only send a pong if the client did not indicate that he would like to cancel\n        if (!cancelled) {\n          this.pong(frame.binaryPayload);\n        }\n      } else {\n        this.pong(frame.binaryPayload);\n      }\n      break;\n    case 0x0A:\n      // WebSocketFrame.PONG\n      this._debug('-- Pong Frame');\n      this.emit('pong', frame.binaryPayload);\n      break;\n    case 0x08:\n      // WebSocketFrame.CONNECTION_CLOSE\n      this._debug('-- Close Frame');\n      if (this.waitingForCloseResponse) {\n        // Got response to our request to close the connection.\n        // Close is complete, so we just hang up.\n        this._debug('---- Got close response from peer.  Completing closing handshake.');\n        this.clearCloseTimer();\n        this.waitingForCloseResponse = false;\n        this.state = STATE_CLOSED;\n        this.socket.end();\n        return;\n      }\n      this._debug('---- Closing handshake initiated by peer.');\n      // Got request from other party to close connection.\n      // Send back acknowledgement and then hang up.\n      this.state = STATE_PEER_REQUESTED_CLOSE;\n      var respondCloseReasonCode;\n\n      // Make sure the close reason provided is legal according to\n      // the protocol spec.  Providing no close status is legal.\n      // WebSocketFrame sets closeStatus to -1 by default, so if it\n      // is still -1, then no status was provided.\n      if (frame.invalidCloseFrameLength) {\n        this.closeReasonCode = 1005; // 1005 = No reason provided.\n        respondCloseReasonCode = WebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR;\n      } else if (frame.closeStatus === -1 || validateCloseReason(frame.closeStatus)) {\n        this.closeReasonCode = frame.closeStatus;\n        respondCloseReasonCode = WebSocketConnection.CLOSE_REASON_NORMAL;\n      } else {\n        this.closeReasonCode = frame.closeStatus;\n        respondCloseReasonCode = WebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR;\n      }\n\n      // If there is a textual description in the close frame, extract it.\n      if (frame.binaryPayload.length > 1) {\n        if (!isValidUTF8(frame.binaryPayload)) {\n          this.drop(WebSocketConnection.CLOSE_REASON_INVALID_DATA, 'Invalid UTF-8 Data Received');\n          return;\n        }\n        this.closeDescription = frame.binaryPayload.toString('utf8');\n      } else {\n        this.closeDescription = WebSocketConnection.CLOSE_DESCRIPTIONS[this.closeReasonCode];\n      }\n      this._debug('------ Remote peer %s - code: %d - %s - close frame payload length: %d', this.remoteAddress, this.closeReasonCode, this.closeDescription, frame.length);\n      this._debug('------ responding to remote peer\\'s close request.');\n      this.sendCloseFrame(respondCloseReasonCode, null);\n      this.connected = false;\n      break;\n    default:\n      this._debug('-- Unrecognized Opcode %d', frame.opcode);\n      this.drop(WebSocketConnection.CLOSE_REASON_PROTOCOL_ERROR, 'Unrecognized Opcode: 0x' + frame.opcode.toString(16));\n      break;\n  }\n};\nWebSocketConnection.prototype.send = function (data, cb) {\n  this._debug('send');\n  if (Buffer.isBuffer(data)) {\n    this.sendBytes(data, cb);\n  } else if (typeof data['toString'] === 'function') {\n    this.sendUTF(data, cb);\n  } else {\n    throw new Error('Data provided must either be a Node Buffer or implement toString()');\n  }\n};\nWebSocketConnection.prototype.sendUTF = function (data, cb) {\n  data = bufferFromString(data.toString(), 'utf8');\n  this._debug('sendUTF: %d bytes', data.length);\n  var frame = new WebSocketFrame(this.maskBytes, this.frameHeader, this.config);\n  frame.opcode = 0x01; // WebSocketOpcode.TEXT_FRAME\n  frame.binaryPayload = data;\n  this.fragmentAndSend(frame, cb);\n};\nWebSocketConnection.prototype.sendBytes = function (data, cb) {\n  this._debug('sendBytes');\n  if (!Buffer.isBuffer(data)) {\n    throw new Error('You must pass a Node Buffer object to WebSocketConnection.prototype.sendBytes()');\n  }\n  var frame = new WebSocketFrame(this.maskBytes, this.frameHeader, this.config);\n  frame.opcode = 0x02; // WebSocketOpcode.BINARY_FRAME\n  frame.binaryPayload = data;\n  this.fragmentAndSend(frame, cb);\n};\nWebSocketConnection.prototype.ping = function (data) {\n  this._debug('ping');\n  var frame = new WebSocketFrame(this.maskBytes, this.frameHeader, this.config);\n  frame.opcode = 0x09; // WebSocketOpcode.PING\n  frame.fin = true;\n  if (data) {\n    if (!Buffer.isBuffer(data)) {\n      data = bufferFromString(data.toString(), 'utf8');\n    }\n    if (data.length > 125) {\n      this._debug('WebSocket: Data for ping is longer than 125 bytes.  Truncating.');\n      data = data.slice(0, 124);\n    }\n    frame.binaryPayload = data;\n  }\n  this.sendFrame(frame);\n};\n\n// Pong frames have to echo back the contents of the data portion of the\n// ping frame exactly, byte for byte.\nWebSocketConnection.prototype.pong = function (binaryPayload) {\n  this._debug('pong');\n  var frame = new WebSocketFrame(this.maskBytes, this.frameHeader, this.config);\n  frame.opcode = 0x0A; // WebSocketOpcode.PONG\n  if (Buffer.isBuffer(binaryPayload) && binaryPayload.length > 125) {\n    this._debug('WebSocket: Data for pong is longer than 125 bytes.  Truncating.');\n    binaryPayload = binaryPayload.slice(0, 124);\n  }\n  frame.binaryPayload = binaryPayload;\n  frame.fin = true;\n  this.sendFrame(frame);\n};\nWebSocketConnection.prototype.fragmentAndSend = function (frame, cb) {\n  this._debug('fragmentAndSend');\n  if (frame.opcode > 0x07) {\n    throw new Error('You cannot fragment control frames.');\n  }\n  var threshold = this.config.fragmentationThreshold;\n  var length = frame.binaryPayload.length;\n\n  // Send immediately if fragmentation is disabled or the message is not\n  // larger than the fragmentation threshold.\n  if (!this.config.fragmentOutgoingMessages || frame.binaryPayload && length <= threshold) {\n    frame.fin = true;\n    this.sendFrame(frame, cb);\n    return;\n  }\n  var numFragments = Math.ceil(length / threshold);\n  var sentFragments = 0;\n  var sentCallback = function fragmentSentCallback(err) {\n    if (err) {\n      if (typeof cb === 'function') {\n        // pass only the first error\n        cb(err);\n        cb = null;\n      }\n      return;\n    }\n    ++sentFragments;\n    if (sentFragments === numFragments && typeof cb === 'function') {\n      cb();\n    }\n  };\n  for (var i = 1; i <= numFragments; i++) {\n    var currentFrame = new WebSocketFrame(this.maskBytes, this.frameHeader, this.config);\n\n    // continuation opcode except for first frame.\n    currentFrame.opcode = i === 1 ? frame.opcode : 0x00;\n\n    // fin set on last frame only\n    currentFrame.fin = i === numFragments;\n\n    // length is likely to be shorter on the last fragment\n    var currentLength = i === numFragments ? length - threshold * (i - 1) : threshold;\n    var sliceStart = threshold * (i - 1);\n\n    // Slice the right portion of the original payload\n    currentFrame.binaryPayload = frame.binaryPayload.slice(sliceStart, sliceStart + currentLength);\n    this.sendFrame(currentFrame, sentCallback);\n  }\n};\nWebSocketConnection.prototype.sendCloseFrame = function (reasonCode, description, cb) {\n  if (typeof reasonCode !== 'number') {\n    reasonCode = WebSocketConnection.CLOSE_REASON_NORMAL;\n  }\n  this._debug('sendCloseFrame state: %s, reasonCode: %d, description: %s', this.state, reasonCode, description);\n  if (this.state !== STATE_OPEN && this.state !== STATE_PEER_REQUESTED_CLOSE) {\n    return;\n  }\n  var frame = new WebSocketFrame(this.maskBytes, this.frameHeader, this.config);\n  frame.fin = true;\n  frame.opcode = 0x08; // WebSocketOpcode.CONNECTION_CLOSE\n  frame.closeStatus = reasonCode;\n  if (typeof description === 'string') {\n    frame.binaryPayload = bufferFromString(description, 'utf8');\n  }\n  this.sendFrame(frame, cb);\n  this.socket.end();\n};\nWebSocketConnection.prototype.sendFrame = function (frame, cb) {\n  this._debug('sendFrame');\n  frame.mask = this.maskOutgoingPackets;\n  var flushed = this.socket.write(frame.toBuffer(), cb);\n  this.outputBufferFull = !flushed;\n  return flushed;\n};\nmodule.exports = WebSocketConnection;\nfunction instrumentSocketForDebugging(connection, socket) {\n  /* jshint loopfunc: true */\n  if (!connection._debug.enabled) {\n    return;\n  }\n  var originalSocketEmit = socket.emit;\n  socket.emit = function (event) {\n    connection._debug('||| Socket Event  \\'%s\\'', event);\n    originalSocketEmit.apply(this, arguments);\n  };\n  for (var key in socket) {\n    if ('function' !== typeof socket[key]) {\n      continue;\n    }\n    if (['emit'].indexOf(key) !== -1) {\n      continue;\n    }\n    (function (key) {\n      var original = socket[key];\n      if (key === 'on') {\n        socket[key] = function proxyMethod__EventEmitter__On() {\n          connection._debug('||| Socket method called:  %s (%s)', key, arguments[0]);\n          return original.apply(this, arguments);\n        };\n        return;\n      }\n      socket[key] = function proxyMethod() {\n        connection._debug('||| Socket method called:  %s', key);\n        return original.apply(this, arguments);\n      };\n    })(key);\n  }\n}", "/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar crypto = require('crypto');\nvar util = require('util');\nvar url = require('url');\nvar EventEmitter = require('events').EventEmitter;\nvar WebSocketConnection = require('./WebSocketConnection');\nvar headerValueSplitRegExp = /,\\s*/;\nvar headerParamSplitRegExp = /;\\s*/;\nvar headerSanitizeRegExp = /[\\r\\n]/g;\nvar xForwardedForSeparatorRegExp = /,\\s*/;\nvar separators = ['(', ')', '<', '>', '@', ',', ';', ':', '\\\\', '\\\"', '/', '[', ']', '?', '=', '{', '}', ' ', String.fromCharCode(9)];\nvar controlChars = [String.fromCharCode(127) /* DEL */];\nfor (var i = 0; i < 31; i++) {\n  /* US-ASCII Control Characters */\n  controlChars.push(String.fromCharCode(i));\n}\nvar cookieNameValidateRegEx = /([\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2f\\x3a-\\x3f\\x40\\x5b-\\x5e\\x7b\\x7d\\x7f])/;\nvar cookieValueValidateRegEx = /[^\\x21\\x23-\\x2b\\x2d-\\x3a\\x3c-\\x5b\\x5d-\\x7e]/;\nvar cookieValueDQuoteValidateRegEx = /^\"[^\"]*\"$/;\nvar controlCharsAndSemicolonRegEx = /[\\x00-\\x20\\x3b]/g;\nvar cookieSeparatorRegEx = /[;,] */;\nvar httpStatusDescriptions = {\n  100: 'Continue',\n  101: 'Switching Protocols',\n  200: 'OK',\n  201: 'Created',\n  203: 'Non-Authoritative Information',\n  204: 'No Content',\n  205: 'Reset Content',\n  206: 'Partial Content',\n  300: 'Multiple Choices',\n  301: 'Moved Permanently',\n  302: 'Found',\n  303: 'See Other',\n  304: 'Not Modified',\n  305: 'Use Proxy',\n  307: 'Temporary Redirect',\n  400: 'Bad Request',\n  401: 'Unauthorized',\n  402: 'Payment Required',\n  403: 'Forbidden',\n  404: 'Not Found',\n  406: 'Not Acceptable',\n  407: 'Proxy Authorization Required',\n  408: 'Request Timeout',\n  409: 'Conflict',\n  410: 'Gone',\n  411: 'Length Required',\n  412: 'Precondition Failed',\n  413: 'Request Entity Too Long',\n  414: 'Request-URI Too Long',\n  415: 'Unsupported Media Type',\n  416: 'Requested Range Not Satisfiable',\n  417: 'Expectation Failed',\n  426: 'Upgrade Required',\n  500: 'Internal Server Error',\n  501: 'Not Implemented',\n  502: 'Bad Gateway',\n  503: 'Service Unavailable',\n  504: 'Gateway Timeout',\n  505: 'HTTP Version Not Supported'\n};\nfunction WebSocketRequest(socket, httpRequest, serverConfig) {\n  // Superclass Constructor\n  EventEmitter.call(this);\n  this.socket = socket;\n  this.httpRequest = httpRequest;\n  this.resource = httpRequest.url;\n  this.remoteAddress = socket.remoteAddress;\n  this.remoteAddresses = [this.remoteAddress];\n  this.serverConfig = serverConfig;\n\n  // Watch for the underlying TCP socket closing before we call accept\n  this._socketIsClosing = false;\n  this._socketCloseHandler = this._handleSocketCloseBeforeAccept.bind(this);\n  this.socket.on('end', this._socketCloseHandler);\n  this.socket.on('close', this._socketCloseHandler);\n  this._resolved = false;\n}\nutil.inherits(WebSocketRequest, EventEmitter);\nWebSocketRequest.prototype.readHandshake = function () {\n  var self = this;\n  var request = this.httpRequest;\n\n  // Decode URL\n  this.resourceURL = url.parse(this.resource, true);\n  this.host = request.headers['host'];\n  if (!this.host) {\n    throw new Error('Client must provide a Host header.');\n  }\n  this.key = request.headers['sec-websocket-key'];\n  if (!this.key) {\n    throw new Error('Client must provide a value for Sec-WebSocket-Key.');\n  }\n  this.webSocketVersion = parseInt(request.headers['sec-websocket-version'], 10);\n  if (!this.webSocketVersion || isNaN(this.webSocketVersion)) {\n    throw new Error('Client must provide a value for Sec-WebSocket-Version.');\n  }\n  switch (this.webSocketVersion) {\n    case 8:\n    case 13:\n      break;\n    default:\n      var e = new Error('Unsupported websocket client version: ' + this.webSocketVersion + 'Only versions 8 and 13 are supported.');\n      e.httpCode = 426;\n      e.headers = {\n        'Sec-WebSocket-Version': '13'\n      };\n      throw e;\n  }\n  if (this.webSocketVersion === 13) {\n    this.origin = request.headers['origin'];\n  } else if (this.webSocketVersion === 8) {\n    this.origin = request.headers['sec-websocket-origin'];\n  }\n\n  // Protocol is optional.\n  var protocolString = request.headers['sec-websocket-protocol'];\n  this.protocolFullCaseMap = {};\n  this.requestedProtocols = [];\n  if (protocolString) {\n    var requestedProtocolsFullCase = protocolString.split(headerValueSplitRegExp);\n    requestedProtocolsFullCase.forEach(function (protocol) {\n      var lcProtocol = protocol.toLocaleLowerCase();\n      self.requestedProtocols.push(lcProtocol);\n      self.protocolFullCaseMap[lcProtocol] = protocol;\n    });\n  }\n  if (!this.serverConfig.ignoreXForwardedFor && request.headers['x-forwarded-for']) {\n    var immediatePeerIP = this.remoteAddress;\n    this.remoteAddresses = request.headers['x-forwarded-for'].split(xForwardedForSeparatorRegExp);\n    this.remoteAddresses.push(immediatePeerIP);\n    this.remoteAddress = this.remoteAddresses[0];\n  }\n\n  // Extensions are optional.\n  if (this.serverConfig.parseExtensions) {\n    var extensionsString = request.headers['sec-websocket-extensions'];\n    this.requestedExtensions = this.parseExtensions(extensionsString);\n  } else {\n    this.requestedExtensions = [];\n  }\n\n  // Cookies are optional\n  if (this.serverConfig.parseCookies) {\n    var cookieString = request.headers['cookie'];\n    this.cookies = this.parseCookies(cookieString);\n  } else {\n    this.cookies = [];\n  }\n};\nWebSocketRequest.prototype.parseExtensions = function (extensionsString) {\n  if (!extensionsString || extensionsString.length === 0) {\n    return [];\n  }\n  var extensions = extensionsString.toLocaleLowerCase().split(headerValueSplitRegExp);\n  extensions.forEach(function (extension, index, array) {\n    var params = extension.split(headerParamSplitRegExp);\n    var extensionName = params[0];\n    var extensionParams = params.slice(1);\n    extensionParams.forEach(function (rawParam, index, array) {\n      var arr = rawParam.split('=');\n      var obj = {\n        name: arr[0],\n        value: arr[1]\n      };\n      array.splice(index, 1, obj);\n    });\n    var obj = {\n      name: extensionName,\n      params: extensionParams\n    };\n    array.splice(index, 1, obj);\n  });\n  return extensions;\n};\n\n// This function adapted from node-cookie\n// https://github.com/shtylman/node-cookie\nWebSocketRequest.prototype.parseCookies = function (str) {\n  // Sanity Check\n  if (!str || typeof str !== 'string') {\n    return [];\n  }\n  var cookies = [];\n  var pairs = str.split(cookieSeparatorRegEx);\n  pairs.forEach(function (pair) {\n    var eq_idx = pair.indexOf('=');\n    if (eq_idx === -1) {\n      cookies.push({\n        name: pair,\n        value: null\n      });\n      return;\n    }\n    var key = pair.substr(0, eq_idx).trim();\n    var val = pair.substr(++eq_idx, pair.length).trim();\n\n    // quoted values\n    if ('\"' === val[0]) {\n      val = val.slice(1, -1);\n    }\n    cookies.push({\n      name: key,\n      value: decodeURIComponent(val)\n    });\n  });\n  return cookies;\n};\nWebSocketRequest.prototype.accept = function (acceptedProtocol, allowedOrigin, cookies) {\n  this._verifyResolution();\n\n  // TODO: Handle extensions\n\n  var protocolFullCase;\n  if (acceptedProtocol) {\n    protocolFullCase = this.protocolFullCaseMap[acceptedProtocol.toLocaleLowerCase()];\n    if (typeof protocolFullCase === 'undefined') {\n      protocolFullCase = acceptedProtocol;\n    }\n  } else {\n    protocolFullCase = acceptedProtocol;\n  }\n  this.protocolFullCaseMap = null;\n\n  // Create key validation hash\n  var sha1 = crypto.createHash('sha1');\n  sha1.update(this.key + '258EAFA5-E914-47DA-95CA-C5AB0DC85B11');\n  var acceptKey = sha1.digest('base64');\n  var response = 'HTTP/1.1 101 Switching Protocols\\r\\n' + 'Upgrade: websocket\\r\\n' + 'Connection: Upgrade\\r\\n' + 'Sec-WebSocket-Accept: ' + acceptKey + '\\r\\n';\n  if (protocolFullCase) {\n    // validate protocol\n    for (var i = 0; i < protocolFullCase.length; i++) {\n      var charCode = protocolFullCase.charCodeAt(i);\n      var character = protocolFullCase.charAt(i);\n      if (charCode < 0x21 || charCode > 0x7E || separators.indexOf(character) !== -1) {\n        this.reject(500);\n        throw new Error('Illegal character \"' + String.fromCharCode(character) + '\" in subprotocol.');\n      }\n    }\n    if (this.requestedProtocols.indexOf(acceptedProtocol) === -1) {\n      this.reject(500);\n      throw new Error('Specified protocol was not requested by the client.');\n    }\n    protocolFullCase = protocolFullCase.replace(headerSanitizeRegExp, '');\n    response += 'Sec-WebSocket-Protocol: ' + protocolFullCase + '\\r\\n';\n  }\n  this.requestedProtocols = null;\n  if (allowedOrigin) {\n    allowedOrigin = allowedOrigin.replace(headerSanitizeRegExp, '');\n    if (this.webSocketVersion === 13) {\n      response += 'Origin: ' + allowedOrigin + '\\r\\n';\n    } else if (this.webSocketVersion === 8) {\n      response += 'Sec-WebSocket-Origin: ' + allowedOrigin + '\\r\\n';\n    }\n  }\n  if (cookies) {\n    if (!Array.isArray(cookies)) {\n      this.reject(500);\n      throw new Error('Value supplied for \"cookies\" argument must be an array.');\n    }\n    var seenCookies = {};\n    cookies.forEach(function (cookie) {\n      if (!cookie.name || !cookie.value) {\n        this.reject(500);\n        throw new Error('Each cookie to set must at least provide a \"name\" and \"value\"');\n      }\n\n      // Make sure there are no \\r\\n sequences inserted\n      cookie.name = cookie.name.replace(controlCharsAndSemicolonRegEx, '');\n      cookie.value = cookie.value.replace(controlCharsAndSemicolonRegEx, '');\n      if (seenCookies[cookie.name]) {\n        this.reject(500);\n        throw new Error('You may not specify the same cookie name twice.');\n      }\n      seenCookies[cookie.name] = true;\n\n      // token (RFC 2616, Section 2.2)\n      var invalidChar = cookie.name.match(cookieNameValidateRegEx);\n      if (invalidChar) {\n        this.reject(500);\n        throw new Error('Illegal character ' + invalidChar[0] + ' in cookie name');\n      }\n\n      // RFC 6265, Section 4.1.1\n      // *cookie-octet / ( DQUOTE *cookie-octet DQUOTE ) | %x21 / %x23-2B / %x2D-3A / %x3C-5B / %x5D-7E\n      if (cookie.value.match(cookieValueDQuoteValidateRegEx)) {\n        invalidChar = cookie.value.slice(1, -1).match(cookieValueValidateRegEx);\n      } else {\n        invalidChar = cookie.value.match(cookieValueValidateRegEx);\n      }\n      if (invalidChar) {\n        this.reject(500);\n        throw new Error('Illegal character ' + invalidChar[0] + ' in cookie value');\n      }\n      var cookieParts = [cookie.name + '=' + cookie.value];\n\n      // RFC 6265, Section 4.1.1\n      // 'Path=' path-value | <any CHAR except CTLs or ';'>\n      if (cookie.path) {\n        invalidChar = cookie.path.match(controlCharsAndSemicolonRegEx);\n        if (invalidChar) {\n          this.reject(500);\n          throw new Error('Illegal character ' + invalidChar[0] + ' in cookie path');\n        }\n        cookieParts.push('Path=' + cookie.path);\n      }\n\n      // RFC 6265, Section 4.1.2.3\n      // 'Domain=' subdomain\n      if (cookie.domain) {\n        if (typeof cookie.domain !== 'string') {\n          this.reject(500);\n          throw new Error('Domain must be specified and must be a string.');\n        }\n        invalidChar = cookie.domain.match(controlCharsAndSemicolonRegEx);\n        if (invalidChar) {\n          this.reject(500);\n          throw new Error('Illegal character ' + invalidChar[0] + ' in cookie domain');\n        }\n        cookieParts.push('Domain=' + cookie.domain.toLowerCase());\n      }\n\n      // RFC 6265, Section 4.1.1\n      //'Expires=' sane-cookie-date | Force Date object requirement by using only epoch\n      if (cookie.expires) {\n        if (!(cookie.expires instanceof Date)) {\n          this.reject(500);\n          throw new Error('Value supplied for cookie \"expires\" must be a vaild date object');\n        }\n        cookieParts.push('Expires=' + cookie.expires.toGMTString());\n      }\n\n      // RFC 6265, Section 4.1.1\n      //'Max-Age=' non-zero-digit *DIGIT\n      if (cookie.maxage) {\n        var maxage = cookie.maxage;\n        if (typeof maxage === 'string') {\n          maxage = parseInt(maxage, 10);\n        }\n        if (isNaN(maxage) || maxage <= 0) {\n          this.reject(500);\n          throw new Error('Value supplied for cookie \"maxage\" must be a non-zero number');\n        }\n        maxage = Math.round(maxage);\n        cookieParts.push('Max-Age=' + maxage.toString(10));\n      }\n\n      // RFC 6265, Section 4.1.1\n      //'Secure;'\n      if (cookie.secure) {\n        if (typeof cookie.secure !== 'boolean') {\n          this.reject(500);\n          throw new Error('Value supplied for cookie \"secure\" must be of type boolean');\n        }\n        cookieParts.push('Secure');\n      }\n\n      // RFC 6265, Section 4.1.1\n      //'HttpOnly;'\n      if (cookie.httponly) {\n        if (typeof cookie.httponly !== 'boolean') {\n          this.reject(500);\n          throw new Error('Value supplied for cookie \"httponly\" must be of type boolean');\n        }\n        cookieParts.push('HttpOnly');\n      }\n      response += 'Set-Cookie: ' + cookieParts.join(';') + '\\r\\n';\n    }.bind(this));\n  }\n\n  // TODO: handle negotiated extensions\n  // if (negotiatedExtensions) {\n  //     response += 'Sec-WebSocket-Extensions: ' + negotiatedExtensions.join(', ') + '\\r\\n';\n  // }\n\n  // Mark the request resolved now so that the user can't call accept or\n  // reject a second time.\n  this._resolved = true;\n  this.emit('requestResolved', this);\n  response += '\\r\\n';\n  var connection = new WebSocketConnection(this.socket, [], acceptedProtocol, false, this.serverConfig);\n  connection.webSocketVersion = this.webSocketVersion;\n  connection.remoteAddress = this.remoteAddress;\n  connection.remoteAddresses = this.remoteAddresses;\n  var self = this;\n  if (this._socketIsClosing) {\n    // Handle case when the client hangs up before we get a chance to\n    // accept the connection and send our side of the opening handshake.\n    cleanupFailedConnection(connection);\n  } else {\n    this.socket.write(response, 'ascii', function (error) {\n      if (error) {\n        cleanupFailedConnection(connection);\n        return;\n      }\n      self._removeSocketCloseListeners();\n      connection._addSocketEventListeners();\n    });\n  }\n  this.emit('requestAccepted', connection);\n  return connection;\n};\nWebSocketRequest.prototype.reject = function (status, reason, extraHeaders) {\n  this._verifyResolution();\n\n  // Mark the request resolved now so that the user can't call accept or\n  // reject a second time.\n  this._resolved = true;\n  this.emit('requestResolved', this);\n  if (typeof status !== 'number') {\n    status = 403;\n  }\n  var response = 'HTTP/1.1 ' + status + ' ' + httpStatusDescriptions[status] + '\\r\\n' + 'Connection: close\\r\\n';\n  if (reason) {\n    reason = reason.replace(headerSanitizeRegExp, '');\n    response += 'X-WebSocket-Reject-Reason: ' + reason + '\\r\\n';\n  }\n  if (extraHeaders) {\n    for (var key in extraHeaders) {\n      var sanitizedValue = extraHeaders[key].toString().replace(headerSanitizeRegExp, '');\n      var sanitizedKey = key.replace(headerSanitizeRegExp, '');\n      response += sanitizedKey + ': ' + sanitizedValue + '\\r\\n';\n    }\n  }\n  response += '\\r\\n';\n  this.socket.end(response, 'ascii');\n  this.emit('requestRejected', this);\n};\nWebSocketRequest.prototype._handleSocketCloseBeforeAccept = function () {\n  this._socketIsClosing = true;\n  this._removeSocketCloseListeners();\n};\nWebSocketRequest.prototype._removeSocketCloseListeners = function () {\n  this.socket.removeListener('end', this._socketCloseHandler);\n  this.socket.removeListener('close', this._socketCloseHandler);\n};\nWebSocketRequest.prototype._verifyResolution = function () {\n  if (this._resolved) {\n    throw new Error('WebSocketRequest may only be accepted or rejected one time.');\n  }\n};\nfunction cleanupFailedConnection(connection) {\n  // Since we have to return a connection object even if the socket is\n  // already dead in order not to break the API, we schedule a 'close'\n  // event on the connection object to occur immediately.\n  process.nextTick(function () {\n    // WebSocketConnection.CLOSE_REASON_ABNORMAL = 1006\n    // Third param: Skip sending the close frame to a dead socket\n    connection.drop(1006, 'TCP connection lost before handshake completed.', true);\n  });\n}\nmodule.exports = WebSocketRequest;", "/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar extend = require('./utils').extend;\nvar utils = require('./utils');\nvar util = require('util');\nvar debug = require('debug')('websocket:server');\nvar EventEmitter = require('events').EventEmitter;\nvar WebSocketRequest = require('./WebSocketRequest');\nvar WebSocketServer = function WebSocketServer(config) {\n  // Superclass Constructor\n  EventEmitter.call(this);\n  this._handlers = {\n    upgrade: this.handleUpgrade.bind(this),\n    requestAccepted: this.handleRequestAccepted.bind(this),\n    requestResolved: this.handleRequestResolved.bind(this)\n  };\n  this.connections = [];\n  this.pendingRequests = [];\n  if (config) {\n    this.mount(config);\n  }\n};\nutil.inherits(WebSocketServer, EventEmitter);\nWebSocketServer.prototype.mount = function (config) {\n  this.config = {\n    // The http server instance to attach to.  Required.\n    httpServer: null,\n    // 64KiB max frame size.\n    maxReceivedFrameSize: 0x10000,\n    // 1MiB max message size, only applicable if\n    // assembleFragments is true\n    maxReceivedMessageSize: 0x100000,\n    // Outgoing messages larger than fragmentationThreshold will be\n    // split into multiple fragments.\n    fragmentOutgoingMessages: true,\n    // Outgoing frames are fragmented if they exceed this threshold.\n    // Default is 16KiB\n    fragmentationThreshold: 0x4000,\n    // If true, the server will automatically send a ping to all\n    // clients every 'keepaliveInterval' milliseconds.  The timer is\n    // reset on any received data from the client.\n    keepalive: true,\n    // The interval to send keepalive pings to connected clients if the\n    // connection is idle.  Any received data will reset the counter.\n    keepaliveInterval: 20000,\n    // If true, the server will consider any connection that has not\n    // received any data within the amount of time specified by\n    // 'keepaliveGracePeriod' after a keepalive ping has been sent to\n    // be dead, and will drop the connection.\n    // Ignored if keepalive is false.\n    dropConnectionOnKeepaliveTimeout: true,\n    // The amount of time to wait after sending a keepalive ping before\n    // closing the connection if the connected peer does not respond.\n    // Ignored if keepalive is false.\n    keepaliveGracePeriod: 10000,\n    // Whether to use native TCP keep-alive instead of WebSockets ping\n    // and pong packets.  Native TCP keep-alive sends smaller packets\n    // on the wire and so uses bandwidth more efficiently.  This may\n    // be more important when talking to mobile devices.\n    // If this value is set to true, then these values will be ignored:\n    //   keepaliveGracePeriod\n    //   dropConnectionOnKeepaliveTimeout\n    useNativeKeepalive: false,\n    // If true, fragmented messages will be automatically assembled\n    // and the full message will be emitted via a 'message' event.\n    // If false, each frame will be emitted via a 'frame' event and\n    // the application will be responsible for aggregating multiple\n    // fragmented frames.  Single-frame messages will emit a 'message'\n    // event in addition to the 'frame' event.\n    // Most users will want to leave this set to 'true'\n    assembleFragments: true,\n    // If this is true, websocket connections will be accepted\n    // regardless of the path and protocol specified by the client.\n    // The protocol accepted will be the first that was requested\n    // by the client.  Clients from any origin will be accepted.\n    // This should only be used in the simplest of cases.  You should\n    // probably leave this set to 'false' and inspect the request\n    // object to make sure it's acceptable before accepting it.\n    autoAcceptConnections: false,\n    // Whether or not the X-Forwarded-For header should be respected.\n    // It's important to set this to 'true' when accepting connections\n    // from untrusted clients, as a malicious client could spoof its\n    // IP address by simply setting this header.  It's meant to be added\n    // by a trusted proxy or other intermediary within your own\n    // infrastructure.\n    // See:  http://en.wikipedia.org/wiki/X-Forwarded-For\n    ignoreXForwardedFor: false,\n    // If this is true, 'cookie' headers are parsed and exposed as WebSocketRequest.cookies\n    parseCookies: true,\n    // If this is true, 'sec-websocket-extensions' headers are parsed and exposed as WebSocketRequest.requestedExtensions\n    parseExtensions: true,\n    // The Nagle Algorithm makes more efficient use of network resources\n    // by introducing a small delay before sending small packets so that\n    // multiple messages can be batched together before going onto the\n    // wire.  This however comes at the cost of latency, so the default\n    // is to disable it.  If you don't need low latency and are streaming\n    // lots of small messages, you can change this to 'false'\n    disableNagleAlgorithm: true,\n    // The number of milliseconds to wait after sending a close frame\n    // for an acknowledgement to come back before giving up and just\n    // closing the socket.\n    closeTimeout: 5000\n  };\n  extend(this.config, config);\n  if (this.config.httpServer) {\n    if (!Array.isArray(this.config.httpServer)) {\n      this.config.httpServer = [this.config.httpServer];\n    }\n    var upgradeHandler = this._handlers.upgrade;\n    this.config.httpServer.forEach(function (httpServer) {\n      httpServer.on('upgrade', upgradeHandler);\n    });\n  } else {\n    throw new Error('You must specify an httpServer on which to mount the WebSocket server.');\n  }\n};\nWebSocketServer.prototype.unmount = function () {\n  var upgradeHandler = this._handlers.upgrade;\n  this.config.httpServer.forEach(function (httpServer) {\n    httpServer.removeListener('upgrade', upgradeHandler);\n  });\n};\nWebSocketServer.prototype.closeAllConnections = function () {\n  this.connections.forEach(function (connection) {\n    connection.close();\n  });\n  this.pendingRequests.forEach(function (request) {\n    process.nextTick(function () {\n      request.reject(503); // HTTP 503 Service Unavailable\n    });\n  });\n};\nWebSocketServer.prototype.broadcast = function (data) {\n  if (Buffer.isBuffer(data)) {\n    this.broadcastBytes(data);\n  } else if (typeof data.toString === 'function') {\n    this.broadcastUTF(data);\n  }\n};\nWebSocketServer.prototype.broadcastUTF = function (utfData) {\n  this.connections.forEach(function (connection) {\n    connection.sendUTF(utfData);\n  });\n};\nWebSocketServer.prototype.broadcastBytes = function (binaryData) {\n  this.connections.forEach(function (connection) {\n    connection.sendBytes(binaryData);\n  });\n};\nWebSocketServer.prototype.shutDown = function () {\n  this.unmount();\n  this.closeAllConnections();\n};\nWebSocketServer.prototype.handleUpgrade = function (request, socket) {\n  var self = this;\n  var wsRequest = new WebSocketRequest(socket, request, this.config);\n  try {\n    wsRequest.readHandshake();\n  } catch (e) {\n    wsRequest.reject(e.httpCode ? e.httpCode : 400, e.message, e.headers);\n    debug('Invalid handshake: %s', e.message);\n    this.emit('upgradeError', e);\n    return;\n  }\n  this.pendingRequests.push(wsRequest);\n  wsRequest.once('requestAccepted', this._handlers.requestAccepted);\n  wsRequest.once('requestResolved', this._handlers.requestResolved);\n  socket.once('close', function () {\n    self._handlers.requestResolved(wsRequest);\n  });\n  if (!this.config.autoAcceptConnections && utils.eventEmitterListenerCount(this, 'request') > 0) {\n    this.emit('request', wsRequest);\n  } else if (this.config.autoAcceptConnections) {\n    wsRequest.accept(wsRequest.requestedProtocols[0], wsRequest.origin);\n  } else {\n    wsRequest.reject(404, 'No handler is configured to accept the connection.');\n  }\n};\nWebSocketServer.prototype.handleRequestAccepted = function (connection) {\n  var self = this;\n  connection.once('close', function (closeReason, description) {\n    self.handleConnectionClose(connection, closeReason, description);\n  });\n  this.connections.push(connection);\n  this.emit('connect', connection);\n};\nWebSocketServer.prototype.handleConnectionClose = function (connection, closeReason, description) {\n  var index = this.connections.indexOf(connection);\n  if (index !== -1) {\n    this.connections.splice(index, 1);\n  }\n  this.emit('close', connection, closeReason, description);\n};\nWebSocketServer.prototype.handleRequestResolved = function (request) {\n  var index = this.pendingRequests.indexOf(request);\n  if (index !== -1) {\n    this.pendingRequests.splice(index, 1);\n  }\n};\nmodule.exports = WebSocketServer;", "/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar utils = require('./utils');\nvar extend = utils.extend;\nvar util = require('util');\nvar EventEmitter = require('events').EventEmitter;\nvar http = require('http');\nvar https = require('https');\nvar url = require('url');\nvar crypto = require('crypto');\nvar WebSocketConnection = require('./WebSocketConnection');\nvar bufferAllocUnsafe = utils.bufferAllocUnsafe;\nvar protocolSeparators = ['(', ')', '<', '>', '@', ',', ';', ':', '\\\\', '\\\"', '/', '[', ']', '?', '=', '{', '}', ' ', String.fromCharCode(9)];\nvar excludedTlsOptions = ['hostname', 'port', 'method', 'path', 'headers'];\nfunction WebSocketClient(config) {\n  // Superclass Constructor\n  EventEmitter.call(this);\n\n  // TODO: Implement extensions\n\n  this.config = {\n    // 1MiB max frame size.\n    maxReceivedFrameSize: 0x100000,\n    // 8MiB max message size, only applicable if\n    // assembleFragments is true\n    maxReceivedMessageSize: 0x800000,\n    // Outgoing messages larger than fragmentationThreshold will be\n    // split into multiple fragments.\n    fragmentOutgoingMessages: true,\n    // Outgoing frames are fragmented if they exceed this threshold.\n    // Default is 16KiB\n    fragmentationThreshold: 0x4000,\n    // Which version of the protocol to use for this session.  This\n    // option will be removed once the protocol is finalized by the IETF\n    // It is only available to ease the transition through the\n    // intermediate draft protocol versions.\n    // At present, it only affects the name of the Origin header.\n    webSocketVersion: 13,\n    // If true, fragmented messages will be automatically assembled\n    // and the full message will be emitted via a 'message' event.\n    // If false, each frame will be emitted via a 'frame' event and\n    // the application will be responsible for aggregating multiple\n    // fragmented frames.  Single-frame messages will emit a 'message'\n    // event in addition to the 'frame' event.\n    // Most users will want to leave this set to 'true'\n    assembleFragments: true,\n    // The Nagle Algorithm makes more efficient use of network resources\n    // by introducing a small delay before sending small packets so that\n    // multiple messages can be batched together before going onto the\n    // wire.  This however comes at the cost of latency, so the default\n    // is to disable it.  If you don't need low latency and are streaming\n    // lots of small messages, you can change this to 'false'\n    disableNagleAlgorithm: true,\n    // The number of milliseconds to wait after sending a close frame\n    // for an acknowledgement to come back before giving up and just\n    // closing the socket.\n    closeTimeout: 5000,\n    // Options to pass to https.connect if connecting via TLS\n    tlsOptions: {}\n  };\n  if (config) {\n    var tlsOptions;\n    if (config.tlsOptions) {\n      tlsOptions = config.tlsOptions;\n      delete config.tlsOptions;\n    } else {\n      tlsOptions = {};\n    }\n    extend(this.config, config);\n    extend(this.config.tlsOptions, tlsOptions);\n  }\n  this._req = null;\n  switch (this.config.webSocketVersion) {\n    case 8:\n    case 13:\n      break;\n    default:\n      throw new Error('Requested webSocketVersion is not supported. Allowed values are 8 and 13.');\n  }\n}\nutil.inherits(WebSocketClient, EventEmitter);\nWebSocketClient.prototype.connect = function (requestUrl, protocols, origin, headers, extraRequestOptions) {\n  var self = this;\n  if (typeof protocols === 'string') {\n    if (protocols.length > 0) {\n      protocols = [protocols];\n    } else {\n      protocols = [];\n    }\n  }\n  if (!(protocols instanceof Array)) {\n    protocols = [];\n  }\n  this.protocols = protocols;\n  this.origin = origin;\n  if (typeof requestUrl === 'string') {\n    this.url = url.parse(requestUrl);\n  } else {\n    this.url = requestUrl; // in case an already parsed url is passed in.\n  }\n  if (!this.url.protocol) {\n    throw new Error('You must specify a full WebSocket URL, including protocol.');\n  }\n  if (!this.url.host) {\n    throw new Error('You must specify a full WebSocket URL, including hostname. Relative URLs are not supported.');\n  }\n  this.secure = this.url.protocol === 'wss:';\n\n  // validate protocol characters:\n  this.protocols.forEach(function (protocol) {\n    for (var i = 0; i < protocol.length; i++) {\n      var charCode = protocol.charCodeAt(i);\n      var character = protocol.charAt(i);\n      if (charCode < 0x0021 || charCode > 0x007E || protocolSeparators.indexOf(character) !== -1) {\n        throw new Error('Protocol list contains invalid character \"' + String.fromCharCode(charCode) + '\"');\n      }\n    }\n  });\n  var defaultPorts = {\n    'ws:': '80',\n    'wss:': '443'\n  };\n  if (!this.url.port) {\n    this.url.port = defaultPorts[this.url.protocol];\n  }\n  var nonce = bufferAllocUnsafe(16);\n  for (var i = 0; i < 16; i++) {\n    nonce[i] = Math.round(Math.random() * 0xFF);\n  }\n  this.base64nonce = nonce.toString('base64');\n  var hostHeaderValue = this.url.hostname;\n  if (this.url.protocol === 'ws:' && this.url.port !== '80' || this.url.protocol === 'wss:' && this.url.port !== '443') {\n    hostHeaderValue += ':' + this.url.port;\n  }\n  var reqHeaders = {};\n  if (this.secure && this.config.tlsOptions.hasOwnProperty('headers')) {\n    // Allow for additional headers to be provided when connecting via HTTPS\n    extend(reqHeaders, this.config.tlsOptions.headers);\n  }\n  if (headers) {\n    // Explicitly provided headers take priority over any from tlsOptions\n    extend(reqHeaders, headers);\n  }\n  extend(reqHeaders, {\n    'Upgrade': 'websocket',\n    'Connection': 'Upgrade',\n    'Sec-WebSocket-Version': this.config.webSocketVersion.toString(10),\n    'Sec-WebSocket-Key': this.base64nonce,\n    'Host': reqHeaders.Host || hostHeaderValue\n  });\n  if (this.protocols.length > 0) {\n    reqHeaders['Sec-WebSocket-Protocol'] = this.protocols.join(', ');\n  }\n  if (this.origin) {\n    if (this.config.webSocketVersion === 13) {\n      reqHeaders['Origin'] = this.origin;\n    } else if (this.config.webSocketVersion === 8) {\n      reqHeaders['Sec-WebSocket-Origin'] = this.origin;\n    }\n  }\n\n  // TODO: Implement extensions\n\n  var pathAndQuery;\n  // Ensure it begins with '/'.\n  if (this.url.pathname) {\n    pathAndQuery = this.url.path;\n  } else if (this.url.path) {\n    pathAndQuery = '/' + this.url.path;\n  } else {\n    pathAndQuery = '/';\n  }\n  function handleRequestError(error) {\n    self._req = null;\n    self.emit('connectFailed', error);\n  }\n  var requestOptions = {\n    agent: false\n  };\n  if (extraRequestOptions) {\n    extend(requestOptions, extraRequestOptions);\n  }\n  // These options are always overridden by the library.  The user is not\n  // allowed to specify these directly.\n  extend(requestOptions, {\n    hostname: this.url.hostname,\n    port: this.url.port,\n    method: 'GET',\n    path: pathAndQuery,\n    headers: reqHeaders\n  });\n  if (this.secure) {\n    var tlsOptions = this.config.tlsOptions;\n    for (var key in tlsOptions) {\n      if (tlsOptions.hasOwnProperty(key) && excludedTlsOptions.indexOf(key) === -1) {\n        requestOptions[key] = tlsOptions[key];\n      }\n    }\n  }\n  var req = this._req = (this.secure ? https : http).request(requestOptions);\n  req.on('upgrade', function handleRequestUpgrade(response, socket, head) {\n    self._req = null;\n    req.removeListener('error', handleRequestError);\n    self.socket = socket;\n    self.response = response;\n    self.firstDataChunk = head;\n    self.validateHandshake();\n  });\n  req.on('error', handleRequestError);\n  req.on('response', function (response) {\n    self._req = null;\n    if (utils.eventEmitterListenerCount(self, 'httpResponse') > 0) {\n      self.emit('httpResponse', response, self);\n      if (response.socket) {\n        response.socket.end();\n      }\n    } else {\n      var headerDumpParts = [];\n      for (var headerName in response.headers) {\n        headerDumpParts.push(headerName + ': ' + response.headers[headerName]);\n      }\n      self.failHandshake('Server responded with a non-101 status: ' + response.statusCode + ' ' + response.statusMessage + '\\nResponse Headers Follow:\\n' + headerDumpParts.join('\\n') + '\\n');\n    }\n  });\n  req.end();\n};\nWebSocketClient.prototype.validateHandshake = function () {\n  var headers = this.response.headers;\n  if (this.protocols.length > 0) {\n    this.protocol = headers['sec-websocket-protocol'];\n    if (this.protocol) {\n      if (this.protocols.indexOf(this.protocol) === -1) {\n        this.failHandshake('Server did not respond with a requested protocol.');\n        return;\n      }\n    } else {\n      this.failHandshake('Expected a Sec-WebSocket-Protocol header.');\n      return;\n    }\n  }\n  if (!(headers['connection'] && headers['connection'].toLocaleLowerCase() === 'upgrade')) {\n    this.failHandshake('Expected a Connection: Upgrade header from the server');\n    return;\n  }\n  if (!(headers['upgrade'] && headers['upgrade'].toLocaleLowerCase() === 'websocket')) {\n    this.failHandshake('Expected an Upgrade: websocket header from the server');\n    return;\n  }\n  var sha1 = crypto.createHash('sha1');\n  sha1.update(this.base64nonce + '258EAFA5-E914-47DA-95CA-C5AB0DC85B11');\n  var expectedKey = sha1.digest('base64');\n  if (!headers['sec-websocket-accept']) {\n    this.failHandshake('Expected Sec-WebSocket-Accept header from server');\n    return;\n  }\n  if (headers['sec-websocket-accept'] !== expectedKey) {\n    this.failHandshake('Sec-WebSocket-Accept header from server didn\\'t match expected value of ' + expectedKey);\n    return;\n  }\n\n  // TODO: Support extensions\n\n  this.succeedHandshake();\n};\nWebSocketClient.prototype.failHandshake = function (errorDescription) {\n  if (this.socket && this.socket.writable) {\n    this.socket.end();\n  }\n  this.emit('connectFailed', new Error(errorDescription));\n};\nWebSocketClient.prototype.succeedHandshake = function () {\n  var connection = new WebSocketConnection(this.socket, [], this.protocol, true, this.config);\n  connection.webSocketVersion = this.config.webSocketVersion;\n  connection._addSocketEventListeners();\n  this.emit('connect', connection);\n  if (this.firstDataChunk.length > 0) {\n    connection.handleSocketData(this.firstDataChunk);\n  }\n  this.firstDataChunk = null;\n};\nWebSocketClient.prototype.abort = function () {\n  if (this._req) {\n    this._req.abort();\n  }\n};\nmodule.exports = WebSocketClient;", "/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar util = require('util');\nvar EventEmitter = require('events').EventEmitter;\nfunction WebSocketRouterRequest(webSocketRequest, resolvedProtocol) {\n  // Superclass Constructor\n  EventEmitter.call(this);\n  this.webSocketRequest = webSocketRequest;\n  if (resolvedProtocol === '____no_protocol____') {\n    this.protocol = null;\n  } else {\n    this.protocol = resolvedProtocol;\n  }\n  this.origin = webSocketRequest.origin;\n  this.resource = webSocketRequest.resource;\n  this.resourceURL = webSocketRequest.resourceURL;\n  this.httpRequest = webSocketRequest.httpRequest;\n  this.remoteAddress = webSocketRequest.remoteAddress;\n  this.webSocketVersion = webSocketRequest.webSocketVersion;\n  this.requestedExtensions = webSocketRequest.requestedExtensions;\n  this.cookies = webSocketRequest.cookies;\n}\nutil.inherits(WebSocketRouterRequest, EventEmitter);\nWebSocketRouterRequest.prototype.accept = function (origin, cookies) {\n  var connection = this.webSocketRequest.accept(this.protocol, origin, cookies);\n  this.emit('requestAccepted', connection);\n  return connection;\n};\nWebSocketRouterRequest.prototype.reject = function (status, reason, extraHeaders) {\n  this.webSocketRequest.reject(status, reason, extraHeaders);\n  this.emit('requestRejected', this);\n};\nmodule.exports = WebSocketRouterRequest;", "/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar extend = require('./utils').extend;\nvar util = require('util');\nvar EventEmitter = require('events').EventEmitter;\nvar WebSocketRouterRequest = require('./WebSocketRouterRequest');\nfunction WebSocketRouter(config) {\n  // Superclass Constructor\n  EventEmitter.call(this);\n  this.config = {\n    // The WebSocketServer instance to attach to.\n    server: null\n  };\n  if (config) {\n    extend(this.config, config);\n  }\n  this.handlers = [];\n  this._requestHandler = this.handleRequest.bind(this);\n  if (this.config.server) {\n    this.attachServer(this.config.server);\n  }\n}\nutil.inherits(WebSocketRouter, EventEmitter);\nWebSocketRouter.prototype.attachServer = function (server) {\n  if (server) {\n    this.server = server;\n    this.server.on('request', this._requestHandler);\n  } else {\n    throw new Error('You must specify a WebSocketServer instance to attach to.');\n  }\n};\nWebSocketRouter.prototype.detachServer = function () {\n  if (this.server) {\n    this.server.removeListener('request', this._requestHandler);\n    this.server = null;\n  } else {\n    throw new Error('Cannot detach from server: not attached.');\n  }\n};\nWebSocketRouter.prototype.mount = function (path, protocol, callback) {\n  if (!path) {\n    throw new Error('You must specify a path for this handler.');\n  }\n  if (!protocol) {\n    protocol = '____no_protocol____';\n  }\n  if (!callback) {\n    throw new Error('You must specify a callback for this handler.');\n  }\n  path = this.pathToRegExp(path);\n  if (!(path instanceof RegExp)) {\n    throw new Error('Path must be specified as either a string or a RegExp.');\n  }\n  var pathString = path.toString();\n\n  // normalize protocol to lower-case\n  protocol = protocol.toLocaleLowerCase();\n  if (this.findHandlerIndex(pathString, protocol) !== -1) {\n    throw new Error('You may only mount one handler per path/protocol combination.');\n  }\n  this.handlers.push({\n    'path': path,\n    'pathString': pathString,\n    'protocol': protocol,\n    'callback': callback\n  });\n};\nWebSocketRouter.prototype.unmount = function (path, protocol) {\n  var index = this.findHandlerIndex(this.pathToRegExp(path).toString(), protocol);\n  if (index !== -1) {\n    this.handlers.splice(index, 1);\n  } else {\n    throw new Error('Unable to find a route matching the specified path and protocol.');\n  }\n};\nWebSocketRouter.prototype.findHandlerIndex = function (pathString, protocol) {\n  protocol = protocol.toLocaleLowerCase();\n  for (var i = 0, len = this.handlers.length; i < len; i++) {\n    var handler = this.handlers[i];\n    if (handler.pathString === pathString && handler.protocol === protocol) {\n      return i;\n    }\n  }\n  return -1;\n};\nWebSocketRouter.prototype.pathToRegExp = function (path) {\n  if (typeof path === 'string') {\n    if (path === '*') {\n      path = /^.*$/;\n    } else {\n      path = path.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n      path = new RegExp('^' + path + '$');\n    }\n  }\n  return path;\n};\nWebSocketRouter.prototype.handleRequest = function (request) {\n  var requestedProtocols = request.requestedProtocols;\n  if (requestedProtocols.length === 0) {\n    requestedProtocols = ['____no_protocol____'];\n  }\n\n  // Find a handler with the first requested protocol first\n  for (var i = 0; i < requestedProtocols.length; i++) {\n    var requestedProtocol = requestedProtocols[i].toLocaleLowerCase();\n\n    // find the first handler that can process this request\n    for (var j = 0, len = this.handlers.length; j < len; j++) {\n      var handler = this.handlers[j];\n      if (handler.path.test(request.resourceURL.pathname)) {\n        if (requestedProtocol === handler.protocol || handler.protocol === '*') {\n          var routerRequest = new WebSocketRouterRequest(request, requestedProtocol);\n          handler.callback(routerRequest);\n          return;\n        }\n      }\n    }\n  }\n\n  // If we get here we were unable to find a suitable handler.\n  request.reject(404, 'No handler is available for the given request.');\n};\nmodule.exports = WebSocketRouter;", "module.exports = isTypedArray;\nisTypedArray.strict = isStrictTypedArray;\nisTypedArray.loose = isLooseTypedArray;\nvar toString = Object.prototype.toString;\nvar names = {\n  '[object Int8Array]': true,\n  '[object Int16Array]': true,\n  '[object Int32Array]': true,\n  '[object Uint8Array]': true,\n  '[object Uint8ClampedArray]': true,\n  '[object Uint16Array]': true,\n  '[object Uint32Array]': true,\n  '[object Float32Array]': true,\n  '[object Float64Array]': true\n};\nfunction isTypedArray(arr) {\n  return isStrictTypedArray(arr) || isLooseTypedArray(arr);\n}\nfunction isStrictTypedArray(arr) {\n  return arr instanceof Int8Array || arr instanceof Int16Array || arr instanceof Int32Array || arr instanceof Uint8Array || arr instanceof Uint8ClampedArray || arr instanceof Uint16Array || arr instanceof Uint32Array || arr instanceof Float32Array || arr instanceof Float64Array;\n}\nfunction isLooseTypedArray(arr) {\n  return names[toString.call(arr)];\n}", "/**\n * Convert a typed array to a Buffer without a copy\n *\n * Author:   Feross Aboukhadijeh <https://feross.org>\n * License:  MIT\n *\n * `npm install typedarray-to-buffer`\n */\n\nvar isTypedArray = require('is-typedarray').strict;\nmodule.exports = function typedarrayToBuffer(arr) {\n  if (isTypedArray(arr)) {\n    // To avoid a copy, use the typed array's underlying ArrayBuffer to back new Buffer\n    var buf = Buffer.from(arr.buffer);\n    if (arr.byteLength !== arr.buffer.byteLength) {\n      // Respect the \"view\", i.e. byteOffset and byteLength, without doing a copy\n      buf = buf.slice(arr.byteOffset, arr.byteOffset + arr.byteLength);\n    }\n    return buf;\n  } else {\n    // Pass through all other types to `Buffer.from`\n    return Buffer.from(arr);\n  }\n};", "/**\n * Expose the _EventTarget class.\n */\nmodule.exports = _EventTarget;\nfunction _EventTarget() {\n  // Do nothing if called for a native EventTarget object..\n  if (typeof this.addEventListener === 'function') {\n    return;\n  }\n  this._listeners = {};\n  this.addEventListener = _addEventListener;\n  this.removeEventListener = _removeEventListener;\n  this.dispatchEvent = _dispatchEvent;\n}\nObject.defineProperties(_EventTarget.prototype, {\n  listeners: {\n    get: function () {\n      return this._listeners;\n    }\n  }\n});\nfunction _addEventListener(type, newListener) {\n  var listenersType, i, listener;\n  if (!type || !newListener) {\n    return;\n  }\n  listenersType = this._listeners[type];\n  if (listenersType === undefined) {\n    this._listeners[type] = listenersType = [];\n  }\n  for (i = 0; !!(listener = listenersType[i]); i++) {\n    if (listener === newListener) {\n      return;\n    }\n  }\n  listenersType.push(newListener);\n}\nfunction _removeEventListener(type, oldListener) {\n  var listenersType, i, listener;\n  if (!type || !oldListener) {\n    return;\n  }\n  listenersType = this._listeners[type];\n  if (listenersType === undefined) {\n    return;\n  }\n  for (i = 0; !!(listener = listenersType[i]); i++) {\n    if (listener === oldListener) {\n      listenersType.splice(i, 1);\n      break;\n    }\n  }\n  if (listenersType.length === 0) {\n    delete this._listeners[type];\n  }\n}\nfunction _dispatchEvent(event) {\n  var type,\n    listenersType,\n    dummyListener,\n    stopImmediatePropagation = false,\n    i,\n    listener;\n  if (!event || typeof event.type !== 'string') {\n    throw new Error('`event` must have a valid `type` property');\n  }\n\n  // Do some stuff to emulate DOM Event behavior (just if this is not a\n  // DOM Event object)\n  if (event._yaeti) {\n    event.target = this;\n    event.cancelable = true;\n  }\n\n  // Attempt to override the stopImmediatePropagation() method\n  try {\n    event.stopImmediatePropagation = function () {\n      stopImmediatePropagation = true;\n    };\n  } catch (error) {}\n  type = event.type;\n  listenersType = this._listeners[type] || [];\n  dummyListener = this['on' + type];\n  if (typeof dummyListener === 'function') {\n    dummyListener.call(this, event);\n  }\n  for (i = 0; !!(listener = listenersType[i]); i++) {\n    if (stopImmediatePropagation) {\n      break;\n    }\n    listener.call(this, event);\n  }\n  return !event.defaultPrevented;\n}", "/**\n * Expose the Event class.\n */\nmodule.exports = _Event;\nfunction _Event(type) {\n  this.type = type;\n  this.isTrusted = false;\n\n  // Set a flag indicating this is not a DOM Event object\n  this._yaeti = true;\n}", "module.exports = {\n  EventTarget: require('./lib/EventTarget'),\n  Event: require('./lib/Event')\n};", "/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar WebSocketClient = require('./WebSocketClient');\nvar toBuffer = require('typedarray-to-buffer');\nvar yaeti = require('yaeti');\nconst CONNECTING = 0;\nconst OPEN = 1;\nconst CLOSING = 2;\nconst CLOSED = 3;\nmodule.exports = W3CWebSocket;\nfunction W3CWebSocket(url, protocols, origin, headers, requestOptions, clientConfig) {\n  // Make this an EventTarget.\n  yaeti.EventTarget.call(this);\n\n  // Sanitize clientConfig.\n  clientConfig = clientConfig || {};\n  clientConfig.assembleFragments = true; // Required in the W3C API.\n\n  var self = this;\n  this._url = url;\n  this._readyState = CONNECTING;\n  this._protocol = undefined;\n  this._extensions = '';\n  this._bufferedAmount = 0; // Hack, always 0.\n  this._binaryType = 'arraybuffer'; // TODO: Should be 'blob' by default, but Node has no Blob.\n\n  // The WebSocketConnection instance.\n  this._connection = undefined;\n\n  // WebSocketClient instance.\n  this._client = new WebSocketClient(clientConfig);\n  this._client.on('connect', function (connection) {\n    onConnect.call(self, connection);\n  });\n  this._client.on('connectFailed', function () {\n    onConnectFailed.call(self);\n  });\n  this._client.connect(url, protocols, origin, headers, requestOptions);\n}\n\n// Expose W3C read only attributes.\nObject.defineProperties(W3CWebSocket.prototype, {\n  url: {\n    get: function () {\n      return this._url;\n    }\n  },\n  readyState: {\n    get: function () {\n      return this._readyState;\n    }\n  },\n  protocol: {\n    get: function () {\n      return this._protocol;\n    }\n  },\n  extensions: {\n    get: function () {\n      return this._extensions;\n    }\n  },\n  bufferedAmount: {\n    get: function () {\n      return this._bufferedAmount;\n    }\n  }\n});\n\n// Expose W3C write/read attributes.\nObject.defineProperties(W3CWebSocket.prototype, {\n  binaryType: {\n    get: function () {\n      return this._binaryType;\n    },\n    set: function (type) {\n      // TODO: Just 'arraybuffer' supported.\n      if (type !== 'arraybuffer') {\n        throw new SyntaxError('just \"arraybuffer\" type allowed for \"binaryType\" attribute');\n      }\n      this._binaryType = type;\n    }\n  }\n});\n\n// Expose W3C readyState constants into the WebSocket instance as W3C states.\n[['CONNECTING', CONNECTING], ['OPEN', OPEN], ['CLOSING', CLOSING], ['CLOSED', CLOSED]].forEach(function (property) {\n  Object.defineProperty(W3CWebSocket.prototype, property[0], {\n    get: function () {\n      return property[1];\n    }\n  });\n});\n\n// Also expose W3C readyState constants into the WebSocket class (not defined by the W3C,\n// but there are so many libs relying on them).\n[['CONNECTING', CONNECTING], ['OPEN', OPEN], ['CLOSING', CLOSING], ['CLOSED', CLOSED]].forEach(function (property) {\n  Object.defineProperty(W3CWebSocket, property[0], {\n    get: function () {\n      return property[1];\n    }\n  });\n});\nW3CWebSocket.prototype.send = function (data) {\n  if (this._readyState !== OPEN) {\n    throw new Error('cannot call send() while not connected');\n  }\n\n  // Text.\n  if (typeof data === 'string' || data instanceof String) {\n    this._connection.sendUTF(data);\n  }\n  // Binary.\n  else {\n    // Node Buffer.\n    if (data instanceof Buffer) {\n      this._connection.sendBytes(data);\n    }\n    // If ArrayBuffer or ArrayBufferView convert it to Node Buffer.\n    else if (data.byteLength || data.byteLength === 0) {\n      data = toBuffer(data);\n      this._connection.sendBytes(data);\n    } else {\n      throw new Error('unknown binary data:', data);\n    }\n  }\n};\nW3CWebSocket.prototype.close = function (code, reason) {\n  switch (this._readyState) {\n    case CONNECTING:\n      // NOTE: We don't have the WebSocketConnection instance yet so no\n      // way to close the TCP connection.\n      // Artificially invoke the onConnectFailed event.\n      onConnectFailed.call(this);\n      // And close if it connects after a while.\n      this._client.on('connect', function (connection) {\n        if (code) {\n          connection.close(code, reason);\n        } else {\n          connection.close();\n        }\n      });\n      break;\n    case OPEN:\n      this._readyState = CLOSING;\n      if (code) {\n        this._connection.close(code, reason);\n      } else {\n        this._connection.close();\n      }\n      break;\n    case CLOSING:\n    case CLOSED:\n      break;\n  }\n};\n\n/**\n * Private API.\n */\n\nfunction createCloseEvent(code, reason) {\n  var event = new yaeti.Event('close');\n  event.code = code;\n  event.reason = reason;\n  event.wasClean = typeof code === 'undefined' || code === 1000;\n  return event;\n}\nfunction createMessageEvent(data) {\n  var event = new yaeti.Event('message');\n  event.data = data;\n  return event;\n}\nfunction onConnect(connection) {\n  var self = this;\n  this._readyState = OPEN;\n  this._connection = connection;\n  this._protocol = connection.protocol;\n  this._extensions = connection.extensions;\n  this._connection.on('close', function (code, reason) {\n    onClose.call(self, code, reason);\n  });\n  this._connection.on('message', function (msg) {\n    onMessage.call(self, msg);\n  });\n  this.dispatchEvent(new yaeti.Event('open'));\n}\nfunction onConnectFailed() {\n  destroy.call(this);\n  this._readyState = CLOSED;\n  try {\n    this.dispatchEvent(new yaeti.Event('error'));\n  } finally {\n    this.dispatchEvent(createCloseEvent(1006, 'connection failed'));\n  }\n}\nfunction onClose(code, reason) {\n  destroy.call(this);\n  this._readyState = CLOSED;\n  this.dispatchEvent(createCloseEvent(code, reason || ''));\n}\nfunction onMessage(message) {\n  if (message.utf8Data) {\n    this.dispatchEvent(createMessageEvent(message.utf8Data));\n  } else if (message.binaryData) {\n    // Must convert from Node Buffer to ArrayBuffer.\n    // TODO: or to a Blob (which does not exist in Node!).\n    if (this.binaryType === 'arraybuffer') {\n      var buffer = message.binaryData;\n      var arraybuffer = new ArrayBuffer(buffer.length);\n      var view = new Uint8Array(arraybuffer);\n      for (var i = 0, len = buffer.length; i < len; ++i) {\n        view[i] = buffer[i];\n      }\n      this.dispatchEvent(createMessageEvent(arraybuffer));\n    }\n  }\n}\nfunction destroy() {\n  this._client.removeAllListeners();\n  if (this._connection) {\n    this._connection.removeAllListeners();\n  }\n}", "/************************************************************************\n *  Copyright 2010-2015 Brian McKelvey.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ***********************************************************************/\n\nvar Deprecation = {\n  disableWarnings: false,\n  deprecationWarningMap: {},\n  warn: function (deprecationName) {\n    if (!this.disableWarnings && this.deprecationWarningMap[deprecationName]) {\n      console.warn('DEPRECATION WARNING: ' + this.deprecationWarningMap[deprecationName]);\n      this.deprecationWarningMap[deprecationName] = false;\n    }\n  }\n};\nmodule.exports = Deprecation;", "{\n  \"name\": \"websocket\",\n  \"description\": \"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.\",\n  \"keywords\": [\n    \"websocket\",\n    \"websockets\",\n    \"socket\",\n    \"networking\",\n    \"comet\",\n    \"push\",\n    \"RFC-6455\",\n    \"realtime\",\n    \"server\",\n    \"client\"\n  ],\n  \"author\": \"Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)\",\n  \"contributors\": [\n    \"Iaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)\"\n  ],\n  \"version\": \"1.0.35\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/theturtle32/WebSocket-Node.git\"\n  },\n  \"homepage\": \"https://github.com/theturtle32/WebSocket-Node\",\n  \"engines\": {\n    \"node\": \">=4.0.0\"\n  },\n  \"dependencies\": {\n    \"bufferutil\": \"^4.0.1\",\n    \"debug\": \"^2.2.0\",\n    \"es5-ext\": \"^0.10.63\",\n    \"typedarray-to-buffer\": \"^3.1.5\",\n    \"utf-8-validate\": \"^5.0.2\",\n    \"yaeti\": \"^0.0.6\"\n  },\n  \"devDependencies\": {\n    \"buffer-equal\": \"^1.0.0\",\n    \"gulp\": \"^4.0.2\",\n    \"gulp-jshint\": \"^2.0.4\",\n    \"jshint-stylish\": \"^2.2.1\",\n    \"jshint\": \"^2.0.0\",\n    \"tape\": \"^4.9.1\"\n  },\n  \"config\": {\n    \"verbose\": false\n  },\n  \"scripts\": {\n    \"test\": \"tape test/unit/*.js\",\n    \"gulp\": \"gulp\"\n  },\n  \"main\": \"index\",\n  \"directories\": {\n    \"lib\": \"./lib\"\n  },\n  \"browser\": \"lib/browser.js\",\n  \"license\": \"Apache-2.0\"\n}\n", "module.exports = require('../package.json').version;", "module.exports = {\n  'server': require('./WebSocketServer'),\n  'client': require('./WebSocketClient'),\n  'router': require('./WebSocketRouter'),\n  'frame': require('./WebSocketFrame'),\n  'request': require('./WebSocketRequest'),\n  'connection': require('./WebSocketConnection'),\n  'w3cwebsocket': require('./W3CWebSocket'),\n  'deprecation': require('./Deprecation'),\n  'version': require('./version')\n};", "module.exports = require('./lib/websocket');", "// Generated by CoffeeScript 1.7.1\n\n/*\n   Stomp Over WebSocket http://www.jmesnil.net/stomp-websocket/doc/ | Apache License V2.0\n\n   Copyright (C) 2013 [Jeff Mesnil](http://jmesnil.net/)\n */\n\n(function () {\n  var Stomp, net, overTCP, overWS, wrapTCP, wrapWS;\n  Stomp = require('./stomp');\n  net = require('net');\n  Stomp.Stomp.setInterval = function (interval, f) {\n    return setInterval(f, interval);\n  };\n  Stomp.Stomp.clearInterval = function (id) {\n    return clearInterval(id);\n  };\n  wrapTCP = function (port, host) {\n    var socket, ws;\n    socket = null;\n    ws = {\n      url: 'tcp:// ' + host + ':' + port,\n      send: function (d) {\n        return socket.write(d);\n      },\n      close: function () {\n        return socket.end();\n      }\n    };\n    socket = net.connect(port, host, function (e) {\n      return ws.onopen();\n    });\n    socket.on('error', function (e) {\n      return typeof ws.onclose === \"function\" ? ws.onclose(e) : void 0;\n    });\n    socket.on('close', function (e) {\n      return typeof ws.onclose === \"function\" ? ws.onclose(e) : void 0;\n    });\n    socket.on('data', function (data) {\n      var event;\n      event = {\n        'data': data.toString()\n      };\n      return ws.onmessage(event);\n    });\n    return ws;\n  };\n  wrapWS = function (url) {\n    var WebSocketClient, connection, socket, ws;\n    WebSocketClient = require('websocket').client;\n    connection = null;\n    ws = {\n      url: url,\n      send: function (d) {\n        return connection.sendUTF(d);\n      },\n      close: function () {\n        return connection.close();\n      }\n    };\n    socket = new WebSocketClient();\n    socket.on('connect', function (conn) {\n      connection = conn;\n      ws.onopen();\n      connection.on('error', function (error) {\n        return typeof ws.onclose === \"function\" ? ws.onclose(error) : void 0;\n      });\n      connection.on('close', function () {\n        return typeof ws.onclose === \"function\" ? ws.onclose() : void 0;\n      });\n      return connection.on('message', function (message) {\n        var event;\n        if (message.type === 'utf8') {\n          event = {\n            'data': message.utf8Data\n          };\n          return ws.onmessage(event);\n        }\n      });\n    });\n    socket.connect(url);\n    return ws;\n  };\n  overTCP = function (host, port) {\n    var socket;\n    socket = wrapTCP(port, host);\n    return Stomp.Stomp.over(socket);\n  };\n  overWS = function (url) {\n    var socket;\n    socket = wrapWS(url);\n    return Stomp.Stomp.over(socket);\n  };\n  exports.overTCP = overTCP;\n  exports.overWS = overWS;\n}).call(this);", "// Copyright (C) 2013 [Jeff Mesnil](http://jmesnil.net/)\n//\n//   Stomp Over WebSocket http://www.jmesnil.net/stomp-websocket/doc/ | Apache License V2.0\n//\n// The library can be used in node.js app to connect to STOMP brokers over TCP \n// or Web sockets.\n\n// Root of the `stompjs module`\n\nvar Stomp = require('./lib/stomp.js');\nvar StompNode = require('./lib/stomp-node.js');\nmodule.exports = Stomp.Stomp;\nmodule.exports.overTCP = StompNode.overTCP;\nmodule.exports.overWS = StompNode.overWS;"],
  "mappings": "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",
  "names": ["Frame", "Client", "_ref1", "_i", "_len", "_results", "headers", "self", "useColors", "useColors", "fd", "stream", "dir", "platform", "arch", "runtime", "abi", "require_node_gyp_build", "mask", "Buffer", "self", "require_fallback", "self", "key", "self", "index", "array", "obj", "i", "WebSocketServer", "self", "self", "i", "self", "require_websocket"]
}
